var Zs=Object.defineProperty;var pt=t=>{throw TypeError(t)};var eo=(t,s,n)=>s in t?Zs(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var G=(t,s,n)=>eo(t,typeof s!="symbol"?s+"":s,n),ve=(t,s,n)=>s.has(t)||pt("Cannot "+n);var M=(t,s,n)=>(ve(t,s,"read from private field"),n?n.call(t):s.get(t)),ae=(t,s,n)=>s.has(t)?pt("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),ce=(t,s,n,e)=>(ve(t,s,"write to private field"),e?e.call(t,n):s.set(t,n),n),ue=(t,s,n)=>(ve(t,s,"access private method"),n);import{j as R}from"./jsx-runtime-DR9Q75dM.js";import{r as C,c as to,g as Ur}from"./index-DRjF_FHU.js";import{_ as U}from"./index-D1AAVYfs.js";import{c as xt,a as Ft,u as de,d as so,f as Xe,e as st,b as mt,g as vt}from"./useWorkspaceStore-CrNgioXB.js";import{S as oo,w as no,q as Tt,A as ro,b as Ut,z as $e}from"./QueryClientProvider-BdRu95_o.js";import{B as io,b as lo,S as wt}from"./Spinner-QuWSqHI9.js";import"./GuideVideo-MGmf4GR2.js";import{C as ao}from"./CircleButton-CZ-LhlOb.js";import"./SquareButton-hj7tViqk.js";import"./Logo-BptDqOCu.js";import"./index-BXCeiWJk.js";import"./ToasterWithMax-D4jPvwZi.js";import"./Loading-CVQUyNmW.js";import"./SkeletonWorkspace-D4UalYBK.js";import"./SkeletonWorkspaceList-LqBByOXs.js";import{S as co,a as uo}from"./Select-BczipgGO.js";import{S as $o}from"./plus-DWHtmhlY.js";import"./WorkspaceLoadError-Cdw2mO9Z.js";import"./NotHoveredEmptyWorkspace-B7Wda7nZ.js";import"./RedoButton-C_Lrkfv2.js";import"./UndoButton-CG9EXSv1.js";import{u as _o,b as Ht}from"./index-x70cJmE6.js";import{S as po,C as Vt}from"./question-CX5dqjCQ.js";import"./CssCategoryButton-kLrWYMB7.js";import{c as mo}from"./client-Dbo3a7kb.js";const To=t=>C.createElement("svg",{width:94,height:89,viewBox:"0 0 94 89",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M15.666 44.4731H78.3327",stroke:"#00D78B",strokeWidth:8,strokeLinecap:"round",strokeLinejoin:"round"}),C.createElement("path",{d:"M47 14.8311L47 74.1147",stroke:"#00D78B",strokeWidth:8,strokeLinecap:"round",strokeLinejoin:"round"}));function Gt(t,s){return function(){return t.apply(s,arguments)}}const{toString:ho}=Object.prototype,{getPrototypeOf:ot}=Object,ye=(t=>s=>{const n=ho.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Y=t=>(t=t.toLowerCase(),s=>ye(s)===t),Le=t=>s=>typeof s===t,{isArray:_e}=Array,he=Le("undefined");function Eo(t){return t!==null&&!he(t)&&t.constructor!==null&&!he(t.constructor)&&w(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Yt=Y("ArrayBuffer");function go(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Yt(t.buffer),s}const fo=Le("string"),w=Le("function"),Kt=Le("number"),Ce=t=>t!==null&&typeof t=="object",bo=t=>t===!0||t===!1,Ie=t=>{if(ye(t)!=="object")return!1;const s=ot(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Io=Y("Date"),So=Y("File"),Oo=Y("Blob"),Ro=Y("FileList"),Ao=t=>Ce(t)&&w(t.pipe),yo=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||w(t.append)&&((s=ye(t))==="formdata"||s==="object"&&w(t.toString)&&t.toString()==="[object FormData]"))},Lo=Y("URLSearchParams"),[Co,No,Mo,ko]=["ReadableStream","Request","Response","Headers"].map(Y),Po=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ee(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let e,r;if(typeof t!="object"&&(t=[t]),_e(t))for(e=0,r=t.length;e<r;e++)s.call(null,t[e],e,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),a=l.length;let d;for(e=0;e<a;e++)d=l[e],s.call(null,t[d],d,t)}}function Xt(t,s){s=s.toLowerCase();const n=Object.keys(t);let e=n.length,r;for(;e-- >0;)if(r=n[e],s===r.toLowerCase())return r;return null}const ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wt=t=>!he(t)&&t!==ne;function We(){const{caseless:t}=Wt(this)&&this||{},s={},n=(e,r)=>{const l=t&&Xt(s,r)||r;Ie(s[l])&&Ie(e)?s[l]=We(s[l],e):Ie(e)?s[l]=We({},e):_e(e)?s[l]=e.slice():s[l]=e};for(let e=0,r=arguments.length;e<r;e++)arguments[e]&&Ee(arguments[e],n);return s}const Bo=(t,s,n,{allOwnKeys:e}={})=>(Ee(s,(r,l)=>{n&&w(r)?t[l]=Gt(r,n):t[l]=r},{allOwnKeys:e}),t),Do=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),xo=(t,s,n,e)=>{t.prototype=Object.create(s.prototype,e),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},Fo=(t,s,n,e)=>{let r,l,a;const d={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),l=r.length;l-- >0;)a=r[l],(!e||e(a,t,s))&&!d[a]&&(s[a]=t[a],d[a]=!0);t=n!==!1&&ot(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},vo=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const e=t.indexOf(s,n);return e!==-1&&e===n},Uo=t=>{if(!t)return null;if(_e(t))return t;let s=t.length;if(!Kt(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},wo=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&ot(Uint8Array)),Ho=(t,s)=>{const e=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=e.next())&&!r.done;){const l=r.value;s.call(t,l[0],l[1])}},Vo=(t,s)=>{let n;const e=[];for(;(n=t.exec(s))!==null;)e.push(n);return e},Go=Y("HTMLFormElement"),Yo=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,e,r){return e.toUpperCase()+r}),ht=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),Ko=Y("RegExp"),jt=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),e={};Ee(n,(r,l)=>{let a;(a=s(r,l,t))!==!1&&(e[l]=a||r)}),Object.defineProperties(t,e)},Xo=t=>{jt(t,(s,n)=>{if(w(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const e=t[n];if(w(e)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wo=(t,s)=>{const n={},e=r=>{r.forEach(l=>{n[l]=!0})};return _e(t)?e(t):e(String(t).split(s)),n},jo=()=>{},qo=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s,Ue="abcdefghijklmnopqrstuvwxyz",Et="0123456789",qt={DIGIT:Et,ALPHA:Ue,ALPHA_DIGIT:Ue+Ue.toUpperCase()+Et},Jo=(t=16,s=qt.ALPHA_DIGIT)=>{let n="";const{length:e}=s;for(;t--;)n+=s[Math.random()*e|0];return n};function zo(t){return!!(t&&w(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Qo=t=>{const s=new Array(10),n=(e,r)=>{if(Ce(e)){if(s.indexOf(e)>=0)return;if(!("toJSON"in e)){s[r]=e;const l=_e(e)?[]:{};return Ee(e,(a,d)=>{const m=n(a,r+1);!he(m)&&(l[d]=m)}),s[r]=void 0,l}}return e};return n(t,0)},Zo=Y("AsyncFunction"),en=t=>t&&(Ce(t)||w(t))&&w(t.then)&&w(t.catch),Jt=((t,s)=>t?setImmediate:s?((n,e)=>(ne.addEventListener("message",({source:r,data:l})=>{r===ne&&l===n&&e.length&&e.shift()()},!1),r=>{e.push(r),ne.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",w(ne.postMessage)),tn=typeof queueMicrotask<"u"?queueMicrotask.bind(ne):typeof process<"u"&&process.nextTick||Jt,_={isArray:_e,isArrayBuffer:Yt,isBuffer:Eo,isFormData:yo,isArrayBufferView:go,isString:fo,isNumber:Kt,isBoolean:bo,isObject:Ce,isPlainObject:Ie,isReadableStream:Co,isRequest:No,isResponse:Mo,isHeaders:ko,isUndefined:he,isDate:Io,isFile:So,isBlob:Oo,isRegExp:Ko,isFunction:w,isStream:Ao,isURLSearchParams:Lo,isTypedArray:wo,isFileList:Ro,forEach:Ee,merge:We,extend:Bo,trim:Po,stripBOM:Do,inherits:xo,toFlatObject:Fo,kindOf:ye,kindOfTest:Y,endsWith:vo,toArray:Uo,forEachEntry:Ho,matchAll:Vo,isHTMLForm:Go,hasOwnProperty:ht,hasOwnProp:ht,reduceDescriptors:jt,freezeMethods:Xo,toObjectSet:Wo,toCamelCase:Yo,noop:jo,toFiniteNumber:qo,findKey:Xt,global:ne,isContextDefined:Wt,ALPHABET:qt,generateString:Jo,isSpecCompliantForm:zo,toJSONObject:Qo,isAsyncFn:Zo,isThenable:en,setImmediate:Jt,asap:tn};function I(t,s,n,e,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),e&&(this.request=e),r&&(this.response=r,this.status=r.status?r.status:null)}_.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const zt=I.prototype,Qt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qt[t]={value:t}});Object.defineProperties(I,Qt);Object.defineProperty(zt,"isAxiosError",{value:!0});I.from=(t,s,n,e,r,l)=>{const a=Object.create(zt);return _.toFlatObject(t,a,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),I.call(a,t.message,s,n,e,r),a.cause=t,a.name=t.name,l&&Object.assign(a,l),a};const sn=null;function je(t){return _.isPlainObject(t)||_.isArray(t)}function Zt(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function gt(t,s,n){return t?t.concat(s).map(function(r,l){return r=Zt(r),!n&&l?"["+r+"]":r}).join(n?".":""):s}function on(t){return _.isArray(t)&&!t.some(je)}const nn=_.toFlatObject(_,{},null,function(s){return/^is[A-Z]/.test(s)});function Ne(t,s,n){if(!_.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,g){return!_.isUndefined(g[f])});const e=n.metaTokens,r=n.visitor||p,l=n.dots,a=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(s);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function $(E){if(E===null)return"";if(_.isDate(E))return E.toISOString();if(!m&&_.isBlob(E))throw new I("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(E)||_.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function p(E,f,g){let y=E;if(E&&!g&&typeof E=="object"){if(_.endsWith(f,"{}"))f=e?f:f.slice(0,-2),E=JSON.stringify(E);else if(_.isArray(E)&&on(E)||(_.isFileList(E)||_.endsWith(f,"[]"))&&(y=_.toArray(E)))return f=Zt(f),y.forEach(function(k,H){!(_.isUndefined(k)||k===null)&&s.append(a===!0?gt([f],H,l):a===null?f:f+"[]",$(k))}),!1}return je(E)?!0:(s.append(gt(g,f,l),$(E)),!1)}const T=[],S=Object.assign(nn,{defaultVisitor:p,convertValue:$,isVisitable:je});function A(E,f){if(!_.isUndefined(E)){if(T.indexOf(E)!==-1)throw Error("Circular reference detected in "+f.join("."));T.push(E),_.forEach(E,function(y,O){(!(_.isUndefined(y)||y===null)&&r.call(s,y,_.isString(O)?O.trim():O,f,S))===!0&&A(y,f?f.concat(O):[O])}),T.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return A(t),s}function ft(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(e){return s[e]})}function nt(t,s){this._pairs=[],t&&Ne(t,this,s)}const es=nt.prototype;es.append=function(s,n){this._pairs.push([s,n])};es.toString=function(s){const n=s?function(e){return s.call(this,e,ft)}:ft;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function rn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ts(t,s,n){if(!s)return t;const e=n&&n.encode||rn,r=n&&n.serialize;let l;if(r?l=r(s,n):l=_.isURLSearchParams(s)?s.toString():new nt(s,n).toString(e),l){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class bt{constructor(){this.handlers=[]}use(s,n,e){return this.handlers.push({fulfilled:s,rejected:n,synchronous:e?e.synchronous:!1,runWhen:e?e.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){_.forEach(this.handlers,function(e){e!==null&&s(e)})}}const ss={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ln=typeof URLSearchParams<"u"?URLSearchParams:nt,an=typeof FormData<"u"?FormData:null,cn=typeof Blob<"u"?Blob:null,un={isBrowser:!0,classes:{URLSearchParams:ln,FormData:an,Blob:cn},protocols:["http","https","file","blob","url","data"]},rt=typeof window<"u"&&typeof document<"u",qe=typeof navigator=="object"&&navigator||void 0,dn=rt&&(!qe||["ReactNative","NativeScript","NS"].indexOf(qe.product)<0),$n=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_n=rt&&window.location.href||"http://localhost",pn=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rt,hasStandardBrowserEnv:dn,hasStandardBrowserWebWorkerEnv:$n,navigator:qe,origin:_n},Symbol.toStringTag,{value:"Module"})),F={...pn,...un};function mn(t,s){return Ne(t,new F.classes.URLSearchParams,Object.assign({visitor:function(n,e,r,l){return F.isNode&&_.isBuffer(n)?(this.append(e,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},s))}function Tn(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function hn(t){const s={},n=Object.keys(t);let e;const r=n.length;let l;for(e=0;e<r;e++)l=n[e],s[l]=t[l];return s}function os(t){function s(n,e,r,l){let a=n[l++];if(a==="__proto__")return!0;const d=Number.isFinite(+a),m=l>=n.length;return a=!a&&_.isArray(r)?r.length:a,m?(_.hasOwnProp(r,a)?r[a]=[r[a],e]:r[a]=e,!d):((!r[a]||!_.isObject(r[a]))&&(r[a]=[]),s(n,e,r[a],l)&&_.isArray(r[a])&&(r[a]=hn(r[a])),!d)}if(_.isFormData(t)&&_.isFunction(t.entries)){const n={};return _.forEachEntry(t,(e,r)=>{s(Tn(e),r,n,0)}),n}return null}function En(t,s,n){if(_.isString(t))try{return(s||JSON.parse)(t),_.trim(t)}catch(e){if(e.name!=="SyntaxError")throw e}return(0,JSON.stringify)(t)}const ge={transitional:ss,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const e=n.getContentType()||"",r=e.indexOf("application/json")>-1,l=_.isObject(s);if(l&&_.isHTMLForm(s)&&(s=new FormData(s)),_.isFormData(s))return r?JSON.stringify(os(s)):s;if(_.isArrayBuffer(s)||_.isBuffer(s)||_.isStream(s)||_.isFile(s)||_.isBlob(s)||_.isReadableStream(s))return s;if(_.isArrayBufferView(s))return s.buffer;if(_.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(l){if(e.indexOf("application/x-www-form-urlencoded")>-1)return mn(s,this.formSerializer).toString();if((d=_.isFileList(s))||e.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Ne(d?{"files[]":s}:s,m&&new m,this.formSerializer)}}return l||r?(n.setContentType("application/json",!1),En(s)):s}],transformResponse:[function(s){const n=this.transitional||ge.transitional,e=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_.isResponse(s)||_.isReadableStream(s))return s;if(s&&_.isString(s)&&(e&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(s)}catch(d){if(a)throw d.name==="SyntaxError"?I.from(d,I.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:F.classes.FormData,Blob:F.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{ge.headers[t]={}});const gn=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fn=t=>{const s={};let n,e,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),e=a.substring(r+1).trim(),!(!n||s[n]&&gn[n])&&(n==="set-cookie"?s[n]?s[n].push(e):s[n]=[e]:s[n]=s[n]?s[n]+", "+e:e)}),s},It=Symbol("internals");function me(t){return t&&String(t).trim().toLowerCase()}function Se(t){return t===!1||t==null?t:_.isArray(t)?t.map(Se):String(t)}function bn(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let e;for(;e=n.exec(t);)s[e[1]]=e[2];return s}const In=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function we(t,s,n,e,r){if(_.isFunction(e))return e.call(this,s,n);if(r&&(s=n),!!_.isString(s)){if(_.isString(e))return s.indexOf(e)!==-1;if(_.isRegExp(e))return e.test(s)}}function Sn(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,e)=>n.toUpperCase()+e)}function On(t,s){const n=_.toCamelCase(" "+s);["get","set","has"].forEach(e=>{Object.defineProperty(t,e+n,{value:function(r,l,a){return this[e].call(this,s,r,l,a)},configurable:!0})})}class v{constructor(s){s&&this.set(s)}set(s,n,e){const r=this;function l(d,m,$){const p=me(m);if(!p)throw new Error("header name must be a non-empty string");const T=_.findKey(r,p);(!T||r[T]===void 0||$===!0||$===void 0&&r[T]!==!1)&&(r[T||m]=Se(d))}const a=(d,m)=>_.forEach(d,($,p)=>l($,p,m));if(_.isPlainObject(s)||s instanceof this.constructor)a(s,n);else if(_.isString(s)&&(s=s.trim())&&!In(s))a(fn(s),n);else if(_.isHeaders(s))for(const[d,m]of s.entries())l(m,d,e);else s!=null&&l(n,s,e);return this}get(s,n){if(s=me(s),s){const e=_.findKey(this,s);if(e){const r=this[e];if(!n)return r;if(n===!0)return bn(r);if(_.isFunction(n))return n.call(this,r,e);if(_.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=me(s),s){const e=_.findKey(this,s);return!!(e&&this[e]!==void 0&&(!n||we(this,this[e],e,n)))}return!1}delete(s,n){const e=this;let r=!1;function l(a){if(a=me(a),a){const d=_.findKey(e,a);d&&(!n||we(e,e[d],d,n))&&(delete e[d],r=!0)}}return _.isArray(s)?s.forEach(l):l(s),r}clear(s){const n=Object.keys(this);let e=n.length,r=!1;for(;e--;){const l=n[e];(!s||we(this,this[l],l,s,!0))&&(delete this[l],r=!0)}return r}normalize(s){const n=this,e={};return _.forEach(this,(r,l)=>{const a=_.findKey(e,l);if(a){n[a]=Se(r),delete n[l];return}const d=s?Sn(l):String(l).trim();d!==l&&delete n[l],n[d]=Se(r),e[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return _.forEach(this,(e,r)=>{e!=null&&e!==!1&&(n[r]=s&&_.isArray(e)?e.join(", "):e)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const e=new this(s);return n.forEach(r=>e.set(r)),e}static accessor(s){const e=(this[It]=this[It]={accessors:{}}).accessors,r=this.prototype;function l(a){const d=me(a);e[d]||(On(r,a),e[d]=!0)}return _.isArray(s)?s.forEach(l):l(s),this}}v.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(v.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(e){this[n]=e}}});_.freezeMethods(v);function He(t,s){const n=this||ge,e=s||n,r=v.from(e.headers);let l=e.data;return _.forEach(t,function(d){l=d.call(n,l,r.normalize(),s?s.status:void 0)}),r.normalize(),l}function ns(t){return!!(t&&t.__CANCEL__)}function pe(t,s,n){I.call(this,t??"canceled",I.ERR_CANCELED,s,n),this.name="CanceledError"}_.inherits(pe,I,{__CANCEL__:!0});function rs(t,s,n){const e=n.config.validateStatus;!n.status||!e||e(n.status)?t(n):s(new I("Request failed with status code "+n.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rn(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function An(t,s){t=t||10;const n=new Array(t),e=new Array(t);let r=0,l=0,a;return s=s!==void 0?s:1e3,function(m){const $=Date.now(),p=e[l];a||(a=$),n[r]=m,e[r]=$;let T=l,S=0;for(;T!==r;)S+=n[T++],T=T%t;if(r=(r+1)%t,r===l&&(l=(l+1)%t),$-a<s)return;const A=p&&$-p;return A?Math.round(S*1e3/A):void 0}}function yn(t,s){let n=0,e=1e3/s,r,l;const a=($,p=Date.now())=>{n=p,r=null,l&&(clearTimeout(l),l=null),t.apply(null,$)};return[(...$)=>{const p=Date.now(),T=p-n;T>=e?a($,p):(r=$,l||(l=setTimeout(()=>{l=null,a(r)},e-T)))},()=>r&&a(r)]}const Re=(t,s,n=3)=>{let e=0;const r=An(50,250);return yn(l=>{const a=l.loaded,d=l.lengthComputable?l.total:void 0,m=a-e,$=r(m),p=a<=d;e=a;const T={loaded:a,total:d,progress:d?a/d:void 0,bytes:m,rate:$||void 0,estimated:$&&d&&p?(d-a)/$:void 0,event:l,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(T)},n)},St=(t,s)=>{const n=t!=null;return[e=>s[0]({lengthComputable:n,total:t,loaded:e}),s[1]]},Ot=t=>(...s)=>_.asap(()=>t(...s)),Ln=F.hasStandardBrowserEnv?function(){const s=F.navigator&&/(msie|trident)/i.test(F.navigator.userAgent),n=document.createElement("a");let e;function r(l){let a=l;return s&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(a){const d=_.isString(a)?r(a):a;return d.protocol===e.protocol&&d.host===e.host}}():function(){return function(){return!0}}(),Cn=F.hasStandardBrowserEnv?{write(t,s,n,e,r,l){const a=[t+"="+encodeURIComponent(s)];_.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),_.isString(e)&&a.push("path="+e),_.isString(r)&&a.push("domain="+r),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nn(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Mn(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function is(t,s){return t&&!Nn(s)?Mn(t,s):s}const Rt=t=>t instanceof v?{...t}:t;function ie(t,s){s=s||{};const n={};function e($,p,T){return _.isPlainObject($)&&_.isPlainObject(p)?_.merge.call({caseless:T},$,p):_.isPlainObject(p)?_.merge({},p):_.isArray(p)?p.slice():p}function r($,p,T){if(_.isUndefined(p)){if(!_.isUndefined($))return e(void 0,$,T)}else return e($,p,T)}function l($,p){if(!_.isUndefined(p))return e(void 0,p)}function a($,p){if(_.isUndefined(p)){if(!_.isUndefined($))return e(void 0,$)}else return e(void 0,p)}function d($,p,T){if(T in s)return e($,p);if(T in t)return e(void 0,$)}const m={url:l,method:l,data:l,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:d,headers:($,p)=>r(Rt($),Rt(p),!0)};return _.forEach(Object.keys(Object.assign({},t,s)),function(p){const T=m[p]||r,S=T(t[p],s[p],p);_.isUndefined(S)&&T!==d||(n[p]=S)}),n}const ls=t=>{const s=ie({},t);let{data:n,withXSRFToken:e,xsrfHeaderName:r,xsrfCookieName:l,headers:a,auth:d}=s;s.headers=a=v.from(a),s.url=ts(is(s.baseURL,s.url),t.params,t.paramsSerializer),d&&a.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(_.isFormData(n)){if(F.hasStandardBrowserEnv||F.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((m=a.getContentType())!==!1){const[$,...p]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];a.setContentType([$||"multipart/form-data",...p].join("; "))}}if(F.hasStandardBrowserEnv&&(e&&_.isFunction(e)&&(e=e(s)),e||e!==!1&&Ln(s.url))){const $=r&&l&&Cn.read(l);$&&a.set(r,$)}return s},kn=typeof XMLHttpRequest<"u",Pn=kn&&function(t){return new Promise(function(n,e){const r=ls(t);let l=r.data;const a=v.from(r.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:$}=r,p,T,S,A,E;function f(){A&&A(),E&&E(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function y(){if(!g)return;const k=v.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!d||d==="text"||d==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:k,config:t,request:g};rs(function(j){n(j),f()},function(j){e(j),f()},N),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(e(new I("Request aborted",I.ECONNABORTED,t,g)),g=null)},g.onerror=function(){e(new I("Network Error",I.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let H=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||ss;r.timeoutErrorMessage&&(H=r.timeoutErrorMessage),e(new I(H,N.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,t,g)),g=null},l===void 0&&a.setContentType(null),"setRequestHeader"in g&&_.forEach(a.toJSON(),function(H,N){g.setRequestHeader(N,H)}),_.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&d!=="json"&&(g.responseType=r.responseType),$&&([S,E]=Re($,!0),g.addEventListener("progress",S)),m&&g.upload&&([T,A]=Re(m),g.upload.addEventListener("progress",T),g.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(p=k=>{g&&(e(!k||k.type?new pe(null,t,g):k),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const O=Rn(r.url);if(O&&F.protocols.indexOf(O)===-1){e(new I("Unsupported protocol "+O+":",I.ERR_BAD_REQUEST,t));return}g.send(l||null)})},Bn=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let e=new AbortController,r;const l=function($){if(!r){r=!0,d();const p=$ instanceof Error?$:this.reason;e.abort(p instanceof I?p:new pe(p instanceof Error?p.message:p))}};let a=s&&setTimeout(()=>{a=null,l(new I(`timeout ${s} of ms exceeded`,I.ETIMEDOUT))},s);const d=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach($=>{$.unsubscribe?$.unsubscribe(l):$.removeEventListener("abort",l)}),t=null)};t.forEach($=>$.addEventListener("abort",l));const{signal:m}=e;return m.unsubscribe=()=>_.asap(d),m}},Dn=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let e=0,r;for(;e<n;)r=e+s,yield t.slice(e,r),e=r},xn=async function*(t,s){for await(const n of Fn(t))yield*Dn(n,s)},Fn=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:e}=await s.read();if(n)break;yield e}}finally{await s.cancel()}},At=(t,s,n,e)=>{const r=xn(t,s);let l=0,a,d=m=>{a||(a=!0,e&&e(m))};return new ReadableStream({async pull(m){try{const{done:$,value:p}=await r.next();if($){d(),m.close();return}let T=p.byteLength;if(n){let S=l+=T;n(S)}m.enqueue(new Uint8Array(p))}catch($){throw d($),$}},cancel(m){return d(m),r.return()}},{highWaterMark:2})},Me=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",as=Me&&typeof ReadableStream=="function",vn=Me&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cs=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Un=as&&cs(()=>{let t=!1;const s=new Request(F.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),yt=64*1024,Je=as&&cs(()=>_.isReadableStream(new Response("").body)),Ae={stream:Je&&(t=>t.body)};Me&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ae[s]&&(Ae[s]=_.isFunction(t[s])?n=>n[s]():(n,e)=>{throw new I(`Response type '${s}' is not supported`,I.ERR_NOT_SUPPORT,e)})})})(new Response);const wn=async t=>{if(t==null)return 0;if(_.isBlob(t))return t.size;if(_.isSpecCompliantForm(t))return(await new Request(F.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_.isArrayBufferView(t)||_.isArrayBuffer(t))return t.byteLength;if(_.isURLSearchParams(t)&&(t=t+""),_.isString(t))return(await vn(t)).byteLength},Hn=async(t,s)=>{const n=_.toFiniteNumber(t.getContentLength());return n??wn(s)},Vn=Me&&(async t=>{let{url:s,method:n,data:e,signal:r,cancelToken:l,timeout:a,onDownloadProgress:d,onUploadProgress:m,responseType:$,headers:p,withCredentials:T="same-origin",fetchOptions:S}=ls(t);$=$?($+"").toLowerCase():"text";let A=Bn([r,l&&l.toAbortSignal()],a),E;const f=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let g;try{if(m&&Un&&n!=="get"&&n!=="head"&&(g=await Hn(p,e))!==0){let N=new Request(s,{method:"POST",body:e,duplex:"half"}),B;if(_.isFormData(e)&&(B=N.headers.get("content-type"))&&p.setContentType(B),N.body){const[j,le]=St(g,Re(Ot(m)));e=At(N.body,yt,j,le)}}_.isString(T)||(T=T?"include":"omit");const y="credentials"in Request.prototype;E=new Request(s,{...S,signal:A,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:e,duplex:"half",credentials:y?T:void 0});let O=await fetch(E);const k=Je&&($==="stream"||$==="response");if(Je&&(d||k&&f)){const N={};["status","statusText","headers"].forEach(fe=>{N[fe]=O[fe]});const B=_.toFiniteNumber(O.headers.get("content-length")),[j,le]=d&&St(B,Re(Ot(d),!0))||[];O=new Response(At(O.body,yt,j,()=>{le&&le(),f&&f()}),N)}$=$||"text";let H=await Ae[_.findKey(Ae,$)||"text"](O,t);return!k&&f&&f(),await new Promise((N,B)=>{rs(N,B,{data:H,headers:v.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:E})})}catch(y){throw f&&f(),y&&y.name==="TypeError"&&/fetch/i.test(y.message)?Object.assign(new I("Network Error",I.ERR_NETWORK,t,E),{cause:y.cause||y}):I.from(y,y&&y.code,t,E)}}),ze={http:sn,xhr:Pn,fetch:Vn};_.forEach(ze,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Lt=t=>`- ${t}`,Gn=t=>_.isFunction(t)||t===null||t===!1,us={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:s}=t;let n,e;const r={};for(let l=0;l<s;l++){n=t[l];let a;if(e=n,!Gn(n)&&(e=ze[(a=String(n)).toLowerCase()],e===void 0))throw new I(`Unknown adapter '${a}'`);if(e)break;r[a||"#"+l]=e}if(!e){const l=Object.entries(r).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let a=s?l.length>1?`since :
`+l.map(Lt).join(`
`):" "+Lt(l[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return e},adapters:ze};function Ve(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pe(null,t)}function Ct(t){return Ve(t),t.headers=v.from(t.headers),t.data=He.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),us.getAdapter(t.adapter||ge.adapter)(t).then(function(e){return Ve(t),e.data=He.call(t,t.transformResponse,e),e.headers=v.from(e.headers),e},function(e){return ns(e)||(Ve(t),e&&e.response&&(e.response.data=He.call(t,t.transformResponse,e.response),e.response.headers=v.from(e.response.headers))),Promise.reject(e)})}const ds="1.7.7",it={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{it[t]=function(e){return typeof e===t||"a"+(s<1?"n ":" ")+t}});const Nt={};it.transitional=function(s,n,e){function r(l,a){return"[Axios v"+ds+"] Transitional option '"+l+"'"+a+(e?". "+e:"")}return(l,a,d)=>{if(s===!1)throw new I(r(a," has been removed"+(n?" in "+n:"")),I.ERR_DEPRECATED);return n&&!Nt[a]&&(Nt[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(l,a,d):!0}};function Yn(t,s,n){if(typeof t!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const e=Object.keys(t);let r=e.length;for(;r-- >0;){const l=e[r],a=s[l];if(a){const d=t[l],m=d===void 0||a(d,l,t);if(m!==!0)throw new I("option "+l+" must be "+m,I.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new I("Unknown option "+l,I.ERR_BAD_OPTION)}}const Qe={assertOptions:Yn,validators:it},Z=Qe.validators;class re{constructor(s){this.defaults=s,this.interceptors={request:new bt,response:new bt}}async request(s,n){try{return await this._request(s,n)}catch(e){if(e instanceof Error){let r;Error.captureStackTrace?Error.captureStackTrace(r={}):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.stack?l&&!String(e.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(e.stack+=`
`+l):e.stack=l}catch{}}throw e}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=ie(this.defaults,n);const{transitional:e,paramsSerializer:r,headers:l}=n;e!==void 0&&Qe.assertOptions(e,{silentJSONParsing:Z.transitional(Z.boolean),forcedJSONParsing:Z.transitional(Z.boolean),clarifyTimeoutError:Z.transitional(Z.boolean)},!1),r!=null&&(_.isFunction(r)?n.paramsSerializer={serialize:r}:Qe.assertOptions(r,{encode:Z.function,serialize:Z.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=l&&_.merge(l.common,l[n.method]);l&&_.forEach(["delete","get","head","post","put","patch","common"],E=>{delete l[E]}),n.headers=v.concat(a,l);const d=[];let m=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(m=m&&f.synchronous,d.unshift(f.fulfilled,f.rejected))});const $=[];this.interceptors.response.forEach(function(f){$.push(f.fulfilled,f.rejected)});let p,T=0,S;if(!m){const E=[Ct.bind(this),void 0];for(E.unshift.apply(E,d),E.push.apply(E,$),S=E.length,p=Promise.resolve(n);T<S;)p=p.then(E[T++],E[T++]);return p}S=d.length;let A=n;for(T=0;T<S;){const E=d[T++],f=d[T++];try{A=E(A)}catch(g){f.call(this,g);break}}try{p=Ct.call(this,A)}catch(E){return Promise.reject(E)}for(T=0,S=$.length;T<S;)p=p.then($[T++],$[T++]);return p}getUri(s){s=ie(this.defaults,s);const n=is(s.baseURL,s.url);return ts(n,s.params,s.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(s){re.prototype[s]=function(n,e){return this.request(ie(e||{},{method:s,url:n,data:(e||{}).data}))}});_.forEach(["post","put","patch"],function(s){function n(e){return function(l,a,d){return this.request(ie(d||{},{method:s,headers:e?{"Content-Type":"multipart/form-data"}:{},url:l,data:a}))}}re.prototype[s]=n(),re.prototype[s+"Form"]=n(!0)});class lt{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const e=this;this.promise.then(r=>{if(!e._listeners)return;let l=e._listeners.length;for(;l-- >0;)e._listeners[l](r);e._listeners=null}),this.promise.then=r=>{let l;const a=new Promise(d=>{e.subscribe(d),l=d}).then(r);return a.cancel=function(){e.unsubscribe(l)},a},s(function(l,a,d){e.reason||(e.reason=new pe(l,a,d),n(e.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=e=>{s.abort(e)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new lt(function(r){s=r}),cancel:s}}}function Kn(t){return function(n){return t.apply(null,n)}}function Xn(t){return _.isObject(t)&&t.isAxiosError===!0}const Ze={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ze).forEach(([t,s])=>{Ze[s]=t});function $s(t){const s=new re(t),n=Gt(re.prototype.request,s);return _.extend(n,re.prototype,s,{allOwnKeys:!0}),_.extend(n,s,null,{allOwnKeys:!0}),n.create=function(r){return $s(ie(t,r))},n}const P=$s(ge);P.Axios=re;P.CanceledError=pe;P.CancelToken=lt;P.isCancel=ns;P.VERSION=ds;P.toFormData=Ne;P.AxiosError=I;P.Cancel=P.CanceledError;P.all=function(s){return Promise.all(s)};P.spread=Kn;P.isAxiosError=Xn;P.mergeConfig=ie;P.AxiosHeaders=v;P.formToJSON=t=>os(_.isHTMLForm(t)?new FormData(t):t);P.getAdapter=us.getAdapter;P.HttpStatusCode=Ze;P.default=P;const q=P.create({baseURL:void 0,timeout:5e3,headers:{"Content-Type":"application/json"}}),ke=()=>({createWorkspace:async $=>(await q.post("/workspace",{userId:$},{headers:{"user-id":$}})).data,getWorkspaceList:async($,p)=>(await q.get(`/workspace/list${p!=="null"?`?cursor=${encodeURIComponent(p)}`:""}`,{headers:{"user-id":$}})).data,getWorkspace:async($,p)=>(await q.get(`/workspace?workspaceId=${p}`,{headers:{"user-id":$}})).data,updateWorkspaceName:async($,p,T)=>(await q.patch("/workspace/name",{workspaceId:p,newName:T},{headers:{"user-id":$}})).data,deleteWorkspace:async($,p)=>{await q.delete(`/workspace?workspaceId=${p}`,{headers:{"user-id":$}})},saveWorkspaceCssProperty:async($,p,T)=>{await q.patch("/workspace/css",{workspaceId:p,totalCssPropertyObj:T},{headers:{"user-id":$}})},saveWorkspaceCanvas:async($,p,T)=>{await q.patch("/workspace/canvas",{workspaceId:p,canvas:JSON.stringify(T)},{headers:{"user-id":$}})},saveWorkspaceClassBlockList:async($,p,T)=>{await q.patch("/workspace/classBlockList",{workspaceId:p,classBlockList:JSON.stringify(T)},{headers:{"user-id":$}})},saveWorkspaceCssResetStatus:async($,p,T)=>{await q.patch("/workspace/cssResetStatus",{workspaceId:p,cssResetStatus:T},{headers:{"user-id":$}})}});var ee,te,x,J,z,Oe,et,Dt,Wn=(Dt=class extends oo{constructor(s,n){super();ae(this,z);ae(this,ee);ae(this,te);ae(this,x);ae(this,J);ce(this,ee,s),this.setOptions(n),this.bindMethods(),ue(this,z,Oe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var e;const n=this.options;this.options=M(this,ee).defaultMutationOptions(s),no(this.options,n)||M(this,ee).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,x),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Tt(n.mutationKey)!==Tt(this.options.mutationKey)?this.reset():((e=M(this,x))==null?void 0:e.state.status)==="pending"&&M(this,x).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=M(this,x))==null||s.removeObserver(this)}onMutationUpdate(s){ue(this,z,Oe).call(this),ue(this,z,et).call(this,s)}getCurrentResult(){return M(this,te)}reset(){var s;(s=M(this,x))==null||s.removeObserver(this),ce(this,x,void 0),ue(this,z,Oe).call(this),ue(this,z,et).call(this)}mutate(s,n){var e;return ce(this,J,n),(e=M(this,x))==null||e.removeObserver(this),ce(this,x,M(this,ee).getMutationCache().build(M(this,ee),this.options)),M(this,x).addObserver(this),M(this,x).execute(s)}},ee=new WeakMap,te=new WeakMap,x=new WeakMap,J=new WeakMap,z=new WeakSet,Oe=function(){var n;const s=((n=M(this,x))==null?void 0:n.state)??ro();ce(this,te,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},et=function(s){Ut.batch(()=>{var n,e,r,l,a,d,m,$;if(M(this,J)&&this.hasListeners()){const p=M(this,te).variables,T=M(this,te).context;(s==null?void 0:s.type)==="success"?((e=(n=M(this,J)).onSuccess)==null||e.call(n,s.data,p,T),(l=(r=M(this,J)).onSettled)==null||l.call(r,s.data,null,p,T)):(s==null?void 0:s.type)==="error"&&((d=(a=M(this,J)).onError)==null||d.call(a,s.error,p,T),($=(m=M(this,J)).onSettled)==null||$.call(m,void 0,s.error,p,T))}this.listeners.forEach(p=>{p(M(this,te))})})},Dt);function jn(t,s){return typeof t=="function"?t(...s):!!t}function qn(){}function Pe(t,s){const n=$e(),[e]=C.useState(()=>new Wn(n,t));C.useEffect(()=>{e.setOptions(t)},[e,t]);const r=C.useSyncExternalStore(C.useCallback(a=>e.subscribe(Ut.batchCalls(a)),[e]),()=>e.getCurrentResult(),()=>e.getCurrentResult()),l=C.useCallback((a,d)=>{e.mutate(a,d).catch(qn)},[e]);if(r.error&&jn(e.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}const D=[];for(let t=0;t<256;++t)D.push((t+256).toString(16).slice(1));function Jn(t,s=0){return(D[t[s+0]]+D[t[s+1]]+D[t[s+2]]+D[t[s+3]]+"-"+D[t[s+4]]+D[t[s+5]]+"-"+D[t[s+6]]+D[t[s+7]]+"-"+D[t[s+8]]+D[t[s+9]]+"-"+D[t[s+10]]+D[t[s+11]]+D[t[s+12]]+D[t[s+13]]+D[t[s+14]]+D[t[s+15]]).toLowerCase()}let Ge;const zn=new Uint8Array(16);function Qn(){if(!Ge){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ge=crypto.getRandomValues.bind(crypto)}return Ge(zn)}const Zn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mt={randomUUID:Zn};function er(t,s,n){if(Mt.randomUUID&&!s&&!t)return Mt.randomUUID();t=t||{};const e=t.random||(t.rng||Qn)();return e[6]=e[6]&15|64,e[8]=e[8]&63|128,Jn(e)}const Be=()=>{const t=localStorage.getItem("userId")||er();return localStorage.setItem("userId",t),t},tr=t=>{const s=new Date(t),n=new Date,e=new Intl.RelativeTimeFormat("ko",{numeric:"auto"}),r=Math.floor((s.getTime()-n.getTime())/(1e3*60)),l=Math.floor(r/60);return r>-60?e.format(r,"minute"):l>-24?e.format(l,"hour"):new Intl.DateTimeFormat("ko",{year:"numeric",month:"2-digit",day:"2-digit"}).format(s)},tt="BOOLOCK_SYSTEM_",b=t=>`${tt}${t}`,kt=t=>t.startsWith(tt)?t.slice(tt.length):t,_s=(t,s)=>{let n;return(...e)=>{let r;return n&&clearTimeout(n),n=setTimeout(()=>{r=t(...e)},s),r}},{ASTNode:ci,BasicCursor:ui,Block:di,BlockSvg:$i,Blocks:Pt,COLLAPSED_FIELD_NAME:_i,COLLAPSED_INPUT_NAME:pi,COLLAPSE_CHARS:mi,CodeGenerator:Ti,CollapsibleToolboxCategory:hi,ComponentManager:Ei,Connection:gi,ConnectionChecker:fi,ConnectionDB:bi,ConnectionType:Ii,ContextMenu:Si,ContextMenuItems:Oi,ContextMenuRegistry:Ye,Css:Ri,Cursor:Ai,DELETE_VARIABLE_ID:yi,DeleteArea:Li,DragTarget:Ci,DropDownDiv:Ni,Events:Mi,Extensions:ki,Field:Pi,FieldCheckbox:Bi,FieldDropdown:Di,FieldImage:xi,FieldLabel:Fi,FieldLabelSerializable:sr,FieldNumber:vi,FieldTextInput:or,FieldVariable:Ui,Flyout:wi,FlyoutButton:Hi,FlyoutMetricsManager:Vi,Generator:nr,Gesture:Gi,Grid:Yi,HorizontalFlyout:Ki,INPUT_VALUE:Xi,Input:Wi,InsertionMarkerManager:ji,InsertionMarkerPreviewer:qi,Marker:Ji,MarkerManager:zi,Menu:Qi,MenuItem:Zi,MetricsManager:el,Msg:tl,NEXT_STATEMENT:sl,Names:ol,OPPOSITE_TYPE:nl,OUTPUT_VALUE:rl,Options:il,PREVIOUS_STATEMENT:ll,PROCEDURE_CATEGORY_NAME:al,Procedures:cl,RENAME_VARIABLE_ID:ul,RenderedConnection:dl,Scrollbar:$l,ScrollbarPair:_l,ShortcutItems:pl,ShortcutRegistry:ml,TOOLBOX_AT_BOTTOM:Tl,TOOLBOX_AT_LEFT:hl,TOOLBOX_AT_RIGHT:El,TOOLBOX_AT_TOP:gl,TabNavigateCursor:fl,Theme:rr,ThemeManager:bl,Themes:ps,Toolbox:Il,ToolboxCategory:Sl,ToolboxItem:Ol,ToolboxSeparator:Rl,Tooltip:Al,Touch:yl,Trashcan:Ll,UnattachedFieldError:Cl,VARIABLE_CATEGORY_NAME:Nl,VARIABLE_DYNAMIC_CATEGORY_NAME:Ml,VERSION:kl,VariableMap:Pl,VariableModel:Bl,Variables:Dl,VariablesDynamic:xl,VerticalFlyout:ir,WidgetDiv:Fl,Workspace:vl,WorkspaceAudio:Ul,WorkspaceDragger:wl,WorkspaceSvg:Hl,Xml:Vl,ZoomControls:Gl,blockAnimations:Yl,blockRendering:Kl,browserEvents:Xl,bubbles:Wl,bumpObjects:jl,clipboard:ql,comments:Jl,common:zl,config:Ql,constants:Zl,defineBlocksWithJsonArray:ea,dialog:ta,dragging:sa,fieldRegistry:oa,geras:na,getMainWorkspace:lr,getSelected:ra,hasBubble:ia,hideChaff:la,icons:aa,inject:ca,inputs:ua,isCopyable:da,isDeletable:$a,isDraggable:_a,isIcon:pa,isObservable:ma,isPaster:Ta,isRenderedElement:ha,isSelectable:Ea,isSerializable:ga,isVariableBackedParameterModel:fa,procedures:ba,registry:Ia,renderManagement:Sa,serialization:ar,setLocale:Oa,setParentContainer:Ra,svgResize:Aa,thrasos:ya,uiPosition:La,utils:Te,zelos:Ca}=io,ms=()=>{const t=ke(),s=_o(),n=xt(l=>l.setIsPending),e=$e(),{mutate:r}=Pe({mutationFn:()=>{n(!0);const l=Be();return t.createWorkspace(l)},onSuccess:l=>{e.invalidateQueries({queryKey:se.list()}),s(`/workspace/${l.newWorkspaceId}`)},onError:l=>{console.error(l),U.error("워크스페이스 생성 실패")},onSettled:()=>{n(!1)}});return{mutate:r}},cr={containerCategory:{colour:"FF3A61"},textCategory:{colour:"FFD900"},formCategory:{colour:"FF9821"},tableCategory:{colour:"B223F5"},listCategory:{colour:"3E84FF"},etcCategory:{colour:"00AF6F"}},W={kind:"categoryToolbox",contents:[]},ur=Te.dom;class Na extends or{constructor(){super(...arguments);G(this,"textGroup_");G(this,"backgroundRect_");G(this,"isFixed",!1);G(this,"width",0)}updateWidth(n){this.width=n,this.render_()}updateSize_(n){const e=this.getConstants(),r=n!==void 0?n:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let l=r*2,a=e.FIELD_TEXT_HEIGHT;this.width=Math.max(e.EMPTY_INLINE_INPUT_PADDING+8,this.width);let d=0;this.textElement_&&(d=ur.getFastTextWidth(this.textElement_,e.FIELD_TEXT_FONTSIZE,e.FIELD_TEXT_FONTWEIGHT,e.FIELD_TEXT_FONTFAMILY),l+=d),this.isFullBlockField()||(a=Math.max(a,e.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=a,this.size_.width=Math.max(l,this.width),this.positionTextElement_(r,d),this.positionBorderRect_()}}const dr=[{kind:"block",type:b("div"),description:`여러 내용을 담을 수 있는 상자예요.
레고 블록처럼 여러 개를 쌓을 수 있어요.`},{kind:"block",type:b("span"),description:`글자나 작은 내용을 감싸는 작은 상자예요.
문장 중간에 넣을 수 있어요.`},{kind:"block",type:b("header"),description:`웹페이지의 머리 부분이에요.
보통 로고나 메뉴가 들어가는 곳이에요.`},{kind:"block",type:b("section"),description:`비슷한 내용들을 모아두는 구역이에요.
책의 한 챕터같은 거예요.`},{kind:"block",type:b("nav"),description:"웹사이트에서 다른 페이지로 이동할 수 있는 메뉴가 있는 곳이에요."},{kind:"block",type:b("main"),description:`페이지에서 가장 중요한 내용이 들어가는 곳이에요.
책의 본문 같은 거예요.`},{kind:"block",type:b("article"),description:`하나의 완성된 이야기나 내용을 담는 곳이에요.
신문 기사처럼요.`},{kind:"block",type:b("footer"),description:`웹페이지의 맨 아래 부분이에요.
주소나 연락처 같은 정보가 들어가요.`}],$r=[{kind:"block",type:b("p"),description:`문단을 만드는 태그예요.
하나의 생각이나 이야기를 묶어서 쓸 때 사용해요.`},{kind:"block",type:b("strong"),description:"정말 중요한 내용을 굵은 글씨로 보여줄 때 사용해요."},{kind:"block",type:b("h1"),description:`가장 큰 제목을 쓸 때 사용해요.
책의 제목같은 거예요.`},{kind:"block",type:b("h2"),description:`두 번째로 큰 제목이에요.
책의 장(章) 제목 같은 거예요.`},{kind:"block",type:b("h3"),description:`세 번째로 큰 제목이에요.
책의 절(節) 제목 같은 거예요.`},{kind:"block",type:b("h4"),description:`네 번째로 큰 제목이에요.
작은 주제를 쓸 때 사용해요.`},{kind:"block",type:b("h5"),description:`다섯 번째로 큰 제목이에요.
아주 작은 주제를 쓸 때 사용해요.`},{kind:"block",type:b("h6"),description:`가장 작은 제목이에요.
제일 세세한 주제를 쓸 때 사용해요.`},{kind:"block",type:b("small"),description:`작은 글씨로 보여주고 싶을 때 사용해요.
부가 설명을 쓸 때 좋아요.`},{kind:"block",type:b("br"),description:`줄을 바꾸고 싶을 때 사용해요.
엔터 키를 누른 것처럼요.`},{kind:"block",type:b("em"),description:"글씨를 기울여서 강조하고 싶을 때 사용해요."},{kind:"block",type:b("i"),description:"글씨를 기울여 쓰고 싶을 때 사용해요."},{kind:"block",type:b("blockquote"),description:`다른 사람의 말을 인용할 때 사용해요.
책에서 따온 문장 같은 거예요.`},{kind:"block",type:b("hr"),description:"가로줄을 그어서 내용을 구분하고 싶을 때 사용해요."}],_r=[{kind:"block",type:b("button"),description:`클릭할 수 있는 버튼이에요.
제출하기나 확인 같은 동작을 할 때 사용해요.`},{kind:"block",type:b("option"),description:`선택할 수 있는 항목 하나를 나타내요.
여러 가지 중에 고를 수 있어요.`},{kind:"block",type:b("textarea"),description:`긴 글을 쓸 수 있는 큰 입력창이에요.
게시글이나 댓글을 쓸 때 사용해요.`},{kind:"block",type:b("select"),description:`여러 개 중에서 하나를 선택할 수 있는 목록이에요.
드롭다운 메뉴같은 거예요.`}],pr=[{kind:"block",type:b("td"),description:`표의 칸 하나예요.
내용을 채워 넣을 수 있어요.`},{kind:"block",type:b("tr"),description:`표의 가로줄 하나예요.
여러 칸을 옆으로 나열할 수 있어요.`},{kind:"block",type:b("th"),description:`표의 제목 칸이에요.
각 항목이 무엇을 의미하는지 설명해요.`},{kind:"block",type:b("caption"),description:`표의 제목이에요.
표가 어떤 내용인지 설명해줘요.`},{kind:"block",type:b("table"),description:`표를 만들 때 사용해요.
시간표나 성적표 같은 걸 만들 수 있어요.`}],mr=[{kind:"block",type:b("ul"),description:`순서가 없는 목록을 만들어요.
점이나 동그라미로 항목을 구분해요.`},{kind:"block",type:b("ol"),description:`순서가 있는 목록을 만들어요.
1, 2, 3처럼 숫자로 항목을 구분해요.`},{kind:"block",type:b("li"),description:`목록의 각 항목이에요.
하나하나의 내용을 적을 수 있어요.`}],Tr=[{kind:"block",type:b("text"),description:`일반 글자를 보여주는 기본 텍스트예요.
특별한 꾸밈이 없는 평범한 글자랍니다.`}],oe={container:dr,text:$r,form:_r,table:pr,list:mr,etc:Tr},Q=new nr("HTML"),at=t=>{Q.forBlock[t]=function(s){let n="";const e=s.getInputTargetBlock("css class");e&&(n=e.getFieldValue("CLASS")||"");const r=Q.statementToCode(s,"children");return`<${kt(t)} class="${n}">
${r}
</${kt(t)}>`}};Q.forBlock[b("text")]=function(t){return t.getFieldValue("TEXT").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")};Q.forBlock[b("css_style")]=function(t){return t.getFieldValue("CLASS")};Q.forBlock[b("head")]=function(){return"<head> </head>"};Q.forBlock[b("hr")]=function(){return"<hr/>"};Q.forBlock[b("br")]=function(){return"<br/>"};Q.scrub_=function(t,s,n){const e=t.nextConnection&&t.nextConnection.targetBlock();return e&&!n?s+`
`+Q.blockToCode(e):s};at(b("html"));at(b("body"));Object.values(oe).forEach(t=>{t.forEach(s=>{s.type!==b("text")&&s.type!==b("hr")&&s.type!==b("br")&&at(s.type)})});const hr={kind:"categoryToolbox",contents:[{kind:"category",name:"컨테이너",categorystyle:"containerCategory",contents:oe.container},{kind:"category",name:"텍스트",categorystyle:"textCategory",contents:oe.text},{kind:"category",name:"폼",categorystyle:"formCategory",contents:oe.form},{kind:"category",name:"표",categorystyle:"tableCategory",contents:oe.table},{kind:"category",name:"리스트",categorystyle:"listCategory",contents:oe.list},{kind:"category",name:"내용",categorystyle:"etcCategory",contents:oe.etc}]};var Ts={exports:{}};(function(t,s){(function(n,e){t.exports=e(lo)})(to,function(n){var e=n.__namespace__,r=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),l={customContextMenu:function(o){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(c={text:e.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:a(this)},u=this.getField("VAR").getText(),u={text:e.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",u),enabled:!0,callback:d(this)},o.unshift(c),o.unshift(u));else{if(this.type==="variables_get_dynamic")var i="variables_set_dynamic",c=e.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else i="variables_get_dynamic",c=e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var u=this.getField("VAR");i={type:i,fields:{VAR:u.saveState(!0)}},o.push({enabled:0<this.workspace.remainingCapacity(),text:c.replace("%1",u.getText()),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)})}},onchange:function(o){o=this.getFieldValue("VAR"),o=e.getVariable$$module$build$src$core$variables(this.workspace,o),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(o.type):this.getInput("VALUE").connection.setCheck(o.type)}},a=function(o){return function(){const i=o.workspace,c=o.getField("VAR").getVariable();e.renameVariable$$module$build$src$core$variables(i,c)}},d=function(o){return function(){const i=o.workspace,c=o.getField("VAR").getVariable();i.deleteVariableById(c.getId()),i.refreshToolboxSelection()}};e.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",l),e.defineBlocks$$module$build$src$core$common(r);var m={blocks:r},$=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),p={customContextMenu:function(o){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(c={text:e.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:T(this)},u=this.getField("VAR").getText(),u={text:e.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",u),enabled:!0,callback:S(this)},o.unshift(c),o.unshift(u));else{if(this.type==="variables_get")var i="variables_set",c=e.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else i="variables_get",c=e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var u=this.getField("VAR");i={type:i,fields:{VAR:u.saveState(!0)}},o.push({enabled:0<this.workspace.remainingCapacity(),text:c.replace("%1",u.getText()),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)})}}},T=function(o){return function(){const i=o.workspace,c=o.getField("VAR").getVariable();e.renameVariable$$module$build$src$core$variables(i,c)}},S=function(o){return function(){const i=o.workspace,c=o.getField("VAR").getVariable();i.deleteVariableById(c.getId()),i.refreshToolboxSelection()}};e.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",p),e.defineBlocks$$module$build$src$core$common($);var A={blocks:$},E=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),f={init:function(){this.WHERE_OPTIONS_1=[[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");var i=this.getInput("AT1")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return o.setAttribute("at1",`${i}`),i=this.getInput("AT2")instanceof e.ValueInput$$module$build$src$core$inputs$value_input,o.setAttribute("at2",`${i}`),o},domToMutation:function(o){const i=o.getAttribute("at1")==="true";o=o.getAttribute("at2")==="true",this.updateAt_(1,i),this.updateAt_(2,o)},updateAt_:function(o,i){this.removeInput("AT"+o),this.removeInput("ORDINAL"+o,!0),i?(this.appendValueInput("AT"+o).setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+o).appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+o),o===2&&e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const c=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+o]});c.setValidator(function(u){const h=u==="FROM_START"||u==="FROM_END";if(h!==i){const L=this.getSourceBlock();return L.updateAt_(o,h),L.setFieldValue(u,"WHERE"+o),null}}),this.getInput("AT"+o).appendField(c,"WHERE"+o),o===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};E.text_getSubstring=f,E.text_changeCase={init:function(){const o=[[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},E.text_trim={init:function(){const o=[[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},E.text_print={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var g={updateType_:function(o){this.outputConnection.setCheck(o==="NUMBER"?"Number":"String")},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("type",this.getFieldValue("TYPE")),o},domToMutation:function(o){this.updateType_(o.getAttribute("type"))}};E.text_prompt_ext=Object.assign({},g,{init:function(){var o=[[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),o.setValidator(i=>{this.updateType_(i)}),this.appendValueInput("TEXT").appendField(o,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var y=Object.assign({},g,{init:function(){this.mixin(O);var o=[[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),o.setValidator(i=>{this.updateType_(i)}),this.appendDummyInput().appendField(o,"TYPE").appendField(this.newQuote_(!0)).appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});E.text_prompt=y,E.text_count={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},E.text_replace={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},E.text_reverse={init:function(){this.jsonInit({message0:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var O={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(o){for(let i=0,c;c=this.inputList[i];i++)for(let u=0,h;h=c.fieldRow[u];u++)if(o===h.name){c.insertFieldAt(u,this.newQuote_(!0)),c.insertFieldAt(u+2,this.newQuote_(!1));return}console.warn('field named "'+o+'" not found in '+this.toDevString())},newQuote_:function(o){return o=this.RTL?!o:o,e.fromJson$$module$build$src$core$field_registry({type:"field_image",src:o?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:o?"“":"”"})}},k=function(){this.mixin(O),this.quoteField_("TEXT")},H={itemCount_:0,mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("items",`${this.itemCount_}`),o},domToMutation:function(o){this.itemCount_=parseInt(o.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(o){this.itemCount_=o.itemCount,this.updateShape_()},decompose:function(o){const i=o.newBlock("text_create_join_container");i.initSvg();let c=i.getInput("STACK").connection;for(let u=0;u<this.itemCount_;u++){const h=o.newBlock("text_create_join_item");h.initSvg(),c.connect(h.previousConnection),c=h.nextConnection}return i},compose:function(o){var i=o.getInputTargetBlock("STACK");for(o=[];i;)i.isInsertionMarker()||o.push(i.valueConnection_),i=i.getNextBlock();for(i=0;i<this.itemCount_;i++){const c=this.getInput("ADD"+i).connection.targetConnection;c&&!o.includes(c)&&c.disconnect()}for(this.itemCount_=o.length,this.updateShape_(),i=0;i<this.itemCount_;i++){let c;(c=o[i])==null||c.reconnect(this,"ADD"+i)}},saveConnections:function(o){o=o.getInputTargetBlock("STACK");let i=0;for(;o;){if(o.isInsertionMarker()){o=o.getNextBlock();continue}const c=this.getInput("ADD"+i);o.valueConnection_=c&&c.connection.targetConnection,o=o.getNextBlock(),i++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var o=0;o<this.itemCount_;o++)if(!this.getInput("ADD"+o)){const i=this.appendValueInput("ADD"+o).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT);o===0&&i.appendField(e.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(o=this.itemCount_;this.getInput("ADD"+o);o++)this.removeInput("ADD"+o)}},N=function(){this.mixin(O),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};e.register$$module$build$src$core$extensions("text_append_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var B=function(){this.setTooltip(()=>e.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},j={isAt_:!1,mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("at",`${this.isAt_}`),o},domToMutation:function(o){o=o.getAttribute("at")!=="false",this.updateAt_(o)},updateAt_:function(o){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),o&&(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=o}},le=function(){this.getField("WHERE").setValidator(function(o){o=o==="FROM_START"||o==="FROM_END";const i=this.getSourceBlock();o!==i.isAt_&&i.updateAt_(o)}),this.updateAt_(!0),this.setTooltip(()=>{var o=this.getFieldValue("WHERE");let i=e.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(o==="FROM_START"||o==="FROM_END")&&(o=o==="FROM_START"?e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(i+="  "+o.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),i})};e.register$$module$build$src$core$extensions("text_indexOf_tooltip",B),e.register$$module$build$src$core$extensions("text_quotes",k),e.registerMixin$$module$build$src$core$extensions("quote_image_mixin",O),e.registerMutator$$module$build$src$core$extensions("text_join_mutator",H,N),e.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",j,le),e.defineBlocks$$module$build$src$core$common(E);var fe={blocks:E},K={},ut={setStatements_:function(o){this.hasStatements_!==o&&(o?(this.appendStatementInput("STACK").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=o)},updateParams_:function(){let o="";this.arguments_.length&&(o=e.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.disable$$module$build$src$core$events$utils();try{this.setFieldValue(o,"PARAMS")}finally{e.enable$$module$build$src$core$events$utils()}},mutationToDom:function(o){const i=e.createElement$$module$build$src$core$utils$xml("mutation");o&&i.setAttribute("name",this.getFieldValue("NAME"));for(let c=0;c<this.argumentVarModels_.length;c++){const u=e.createElement$$module$build$src$core$utils$xml("arg"),h=this.argumentVarModels_[c];u.setAttribute("name",h.name),u.setAttribute("varid",h.getId()),o&&this.paramIds_&&u.setAttribute("paramId",this.paramIds_[c]),i.appendChild(u)}return this.hasStatements_||i.setAttribute("statements","false"),i},domToMutation:function(o){this.arguments_=[],this.argumentVarModels_=[];for(let c=0,u;u=o.childNodes[c];c++)if(u.nodeName.toLowerCase()==="arg"){var i=u;const h=i.getAttribute("name");i=i.getAttribute("varid")||i.getAttribute("varId"),this.arguments_.push(h),i=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,i,h,""),i!==null?this.argumentVarModels_.push(i):console.log(`Failed to create a variable named "${h}", ignoring.`)}this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(o.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const o=Object.create(null);if(this.argumentVarModels_.length){o.params=[];for(let i=0;i<this.argumentVarModels_.length;i++)o.params.push({name:this.argumentVarModels_[i].name,id:this.argumentVarModels_[i].getId()})}return this.hasStatements_||(o.hasStatements=!1),o},loadExtraState:function(o){if(this.arguments_=[],this.argumentVarModels_=[],o.params)for(let c=0;c<o.params.length;c++){var i=o.params[c];i=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,i.id,i.name,""),this.arguments_.push(i.name),this.argumentVarModels_.push(i)}this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(o.hasStatements!==!1)},decompose:function(o){const i=e.createElement$$module$build$src$core$utils$xml("block");i.setAttribute("type","procedures_mutatorcontainer");var c=e.createElement$$module$build$src$core$utils$xml("statement");c.setAttribute("name","STACK"),i.appendChild(c);for(let h=0;h<this.arguments_.length;h++){const L=e.createElement$$module$build$src$core$utils$xml("block");L.setAttribute("type","procedures_mutatorarg");var u=e.createElement$$module$build$src$core$utils$xml("field");u.setAttribute("name","NAME");const be=e.createTextNode$$module$build$src$core$utils$xml(this.arguments_[h]);u.appendChild(be),L.appendChild(u),u=e.createElement$$module$build$src$core$utils$xml("next"),L.appendChild(u),c.appendChild(L),c=u}return o=e.domToBlock$$module$build$src$core$xml(i,o),this.type==="procedures_defreturn"?o.setFieldValue(this.hasStatements_,"STATEMENTS"):o.removeInput("STATEMENT_INPUT"),e.mutateCallers$$module$build$src$core$procedures(this),o},compose:function(o){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let i=o.getInputTargetBlock("STACK");for(;i&&!i.isInsertionMarker();){var c=i.getFieldValue("NAME");this.arguments_.push(c),c=this.workspace.getVariable(c,""),this.argumentVarModels_.push(c),this.paramIds_.push(i.id),i=i.nextConnection&&i.nextConnection.targetBlock()}if(this.updateParams_(),e.mutateCallers$$module$build$src$core$procedures(this),o=o.getFieldValue("STATEMENTS"),o!==null&&(o=o==="TRUE",this.hasStatements_!==o))if(o){this.setStatements_(!0);var u;(u=this.statementConnection_)==null||u.reconnect(this,"STACK"),this.statementConnection_=null}else u=this.getInput("STACK").connection,(this.statementConnection_=u.targetConnection)&&(u=u.targetBlock(),u.unplug(),u.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(o,i){var c=this.workspace.getVariableById(o);if(c.type===""){c=c.name,i=this.workspace.getVariableById(i);var u=!1;for(let h=0;h<this.argumentVarModels_.length;h++)this.argumentVarModels_[h].getId()===o&&(this.arguments_[h]=i.name,this.argumentVarModels_[h]=i,u=!0);u&&(this.displayRenamedVar_(c,i.name),e.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(o){const i=o.name;let c=!1,u;for(let h=0;h<this.argumentVarModels_.length;h++)this.argumentVarModels_[h].getId()===o.getId()&&(u=this.arguments_[h],this.arguments_[h]=i,c=!0);c&&(this.displayRenamedVar_(u,i),e.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(o,i){this.updateParams_();var c=this.getIcon(e.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(c&&c.bubbleIsVisible()){c=c.getWorkspace().getAllBlocks(!1);for(let u=0,h;h=c[u];u++)h.type==="procedures_mutatorarg"&&e.Names$$module$build$src$core$names.equals(o,h.getFieldValue("NAME"))&&h.setFieldValue(i,"NAME")}},customContextMenu:function(o){if(!this.isInFlyout){var i=this.getFieldValue("NAME"),c={type:this.callType_,extraState:{name:i,params:this.arguments_}};if(o.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",i),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,c)}),!this.isCollapsed())for(i=0;i<this.argumentVarModels_.length;i++){c=this.argumentVarModels_[i];const u={type:"variables_get",fields:{VAR:{name:c.name,id:c.getId(),type:c.type}}};o.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",c.name),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,u)})}}}};K.procedures_defnoreturn=Object.assign({},ut,{init:function(){var o=e.findLegalName$$module$build$src$core$procedures("",this);o=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:o}),o.setValidator(e.rename$$module$build$src$core$procedures),o.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(o,"NAME").appendField("","PARAMS"),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),K.procedures_defreturn=Object.assign({},ut,{init:function(){var o=e.findLegalName$$module$build$src$core$procedures("",this);o=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:o}),o.setValidator(e.rename$$module$build$src$core$procedures),o.setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(o,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT).appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var gs={init:function(){this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(e.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};K.procedures_mutatorcontainer=gs;var fs={init:function(){const o=e.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e.DEFAULT_ARG$$module$build$src$core$procedures});o.setValidator(this.validator_),o.oldShowEditorFn_=o.showEditor_,o.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(o,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,o.onFinishEditing_=this.deleteIntermediateVars_,o.createdVariables_=[],o.onFinishEditing_("x")},validator_:function(o){var i=this.getSourceBlock();const c=i.workspace.getRootWorkspace();if(o=o.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!o)return null;const u=(i.workspace.targetWorkspace||i.workspace).getAllBlocks(!1),h=o.toLowerCase();for(let L=0;L<u.length;L++){if(u[L].id===this.getSourceBlock().id)continue;const be=u[L].getFieldValue("NAME");if(be&&be.toLowerCase()===h)return null}return i.isInFlyout||((i=c.getVariable(o,""))&&i.name!==o&&c.renameVariableById(i.getId(),o),i||(i=c.createVariable(o,""))&&this.createdVariables_&&this.createdVariables_.push(i)),o},deleteIntermediateVars_:function(o){const i=this.getSourceBlock().workspace.getRootWorkspace();if(i)for(let c=0;c<this.createdVariables_.length;c++){const u=this.createdVariables_[c];u.name!==o&&i.deleteVariableById(u.getId())}}};K.procedures_mutatorarg=fs;var bs="DISABLED_PROCEDURE_DEFINITION",dt={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(o,i){e.Names$$module$build$src$core$names.equals(o,this.getProcedureCall())&&(this.setFieldValue(i,"NAME"),this.setTooltip((this.outputConnection?e.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",i)))},setProcedureParameters_:function(o,i){var c=e.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((c=(c=c&&c.getIcon(e.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&c.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),o.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=i;else{if(i.length!==o.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let h=0;h<this.arguments_.length;h++){var u=this.getInput("ARG"+h);u&&(u=u.connection.targetConnection,this.quarkConnections_[this.quarkIds_[h]]=u,c&&u&&!i.includes(this.quarkIds_[h])&&(u.disconnect(),u.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(o),this.argumentVarModels_=[],o=0;o<this.arguments_.length;o++)c=e.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[o],""),this.argumentVarModels_.push(c);if(this.updateShape_(),this.quarkIds_=i){for(i=0;i<this.arguments_.length;i++)if(o=this.quarkIds_[i],o in this.quarkConnections_){let h;(h=this.quarkConnections_[o])!=null&&h.reconnect(this,"ARG"+i)||delete this.quarkConnections_[o]}}}},updateShape_:function(){for(var o=0;o<this.arguments_.length;o++){var i=this.getField("ARGNAME"+o);if(i){e.disable$$module$build$src$core$events$utils();try{i.setValue(this.arguments_[o])}finally{e.enable$$module$build$src$core$events$utils()}}else i=e.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[o]}),this.appendValueInput("ARG"+o).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT).appendField(i,"ARGNAME"+o)}for(o=this.arguments_.length;this.getInput("ARG"+o);o++)this.removeInput("ARG"+o);(o=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||o.appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&o.removeField("WITH"))},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");o.setAttribute("name",this.getProcedureCall());for(let i=0;i<this.arguments_.length;i++){const c=e.createElement$$module$build$src$core$utils$xml("arg");c.setAttribute("name",this.arguments_[i]),o.appendChild(c)}return o},domToMutation:function(o){var i=o.getAttribute("name");this.renameProcedure(this.getProcedureCall(),i),i=[];const c=[];for(let u=0,h;h=o.childNodes[u];u++)h.nodeName.toLowerCase()==="arg"&&(i.push(h.getAttribute("name")),c.push(h.getAttribute("paramId")));this.setProcedureParameters_(i,c)},saveExtraState:function(){const o=Object.create(null);return o.name=this.getProcedureCall(),this.arguments_.length&&(o.params=this.arguments_),o},loadExtraState:function(o){if(this.renameProcedure(this.getProcedureCall(),o.name),o=o.params){const i=[];i.length=o.length,i.fill(null),this.setProcedureParameters_(o,i)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(o){if(this.workspace&&!this.workspace.isFlyout&&o.recordUndo)if(o.type===e.CREATE$$module$build$src$core$events$utils&&o.ids.includes(this.id)){var i=this.getProcedureCall();if(i=e.getDefinition$$module$build$src$core$procedures(i,this.workspace),!i||i.type===this.defType_&&JSON.stringify(i.getVars())===JSON.stringify(this.arguments_)||(i=null),!i){e.setGroup$$module$build$src$core$events$utils(o.group),o=e.createElement$$module$build$src$core$utils$xml("xml"),i=e.createElement$$module$build$src$core$utils$xml("block"),i.setAttribute("type",this.defType_);var c=this.getRelativeToSurfaceXY(),u=c.y+2*e.config$$module$build$src$core$config.snapRadius;i.setAttribute("x",`${c.x+e.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),i.setAttribute("y",`${u}`),c=this.mutationToDom(),i.appendChild(c),c=e.createElement$$module$build$src$core$utils$xml("field"),c.setAttribute("name","NAME"),u=this.getProcedureCall();const h=e.findLegalName$$module$build$src$core$procedures(u,this);u!==h&&this.renameProcedure(u,h),c.appendChild(e.createTextNode$$module$build$src$core$utils$xml(u)),i.appendChild(c),o.appendChild(i),e.domToWorkspace$$module$build$src$core$xml(o,this.workspace),e.setGroup$$module$build$src$core$events$utils(!1)}}else o.type===e.DELETE$$module$build$src$core$events$utils?(i=this.getProcedureCall(),e.getDefinition$$module$build$src$core$procedures(i,this.workspace)||(e.setGroup$$module$build$src$core$events$utils(o.group),this.dispose(!0),e.setGroup$$module$build$src$core$events$utils(!1))):o.type===e.CHANGE$$module$build$src$core$events$utils&&o.element==="disabled"&&(i=this.getProcedureCall(),(u=e.getDefinition$$module$build$src$core$procedures(i,this.workspace))&&u.id===o.blockId&&((c=e.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),e.setGroup$$module$build$src$core$events$utils(o.group),o=u.isEnabled(),this.setDisabledReason(!o,bs),this.setWarningText(o?null:e.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",i)),e.setGroup$$module$build$src$core$events$utils(c)))},customContextMenu:function(o){if(this.workspace.isMovable()){var i=this.getProcedureCall(),c=this.workspace;o.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const u=e.getDefinition$$module$build$src$core$procedures(i,c);u&&(c.centerOnBlock(u.id),e.setSelected$$module$build$src$core$common(u))}})}}};K.procedures_callnoreturn=Object.assign({},dt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),K.procedures_callreturn=Object.assign({},dt,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Is="UNPARENTED_IFRETURN",Ss={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("value",String(Number(this.hasReturnValue_))),o},domToMutation:function(o){this.hasReturnValue_=o.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(o){if(!(this.workspace.isDragging&&this.workspace.isDragging()||o.type!==e.MOVE$$module$build$src$core$events$utils&&o.type!==e.CREATE$$module$build$src$core$events$utils)){o=!1;var i=this;do{if(this.FUNCTION_TYPES.includes(i.type)){o=!0;break}i=i.getSurroundParent()}while(i);if(o?(i.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):i.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(e.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{e.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!o,Is)}finally{e.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};K.procedures_ifreturn=Ss,e.defineBlocks$$module$build$src$core$common(K);var Os={blocks:K},De=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),Rs={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};e.register$$module$build$src$core$extensions("math_op_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Rs));var As={mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation"),i=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return o.setAttribute("divisor_input",String(i)),o},domToMutation:function(o){o=o.getAttribute("divisor_input")==="true",this.updateShape_(o)},updateShape_:function(o){const i=this.getInput("DIVISOR");o?i||this.appendValueInput("DIVISOR").setCheck("Number"):i&&this.removeInput("DIVISOR")}},ys=function(){this.getField("PROPERTY").setValidator(function(o){o=o==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(o)})};e.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",As,ys),e.register$$module$build$src$core$extensions("math_change_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Ls={updateType_:function(o){o==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("op",this.getFieldValue("OP")),o},domToMutation:function(o){if(o=o.getAttribute("op"),o===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(o)}},Cs=function(){this.getField("OP").setValidator((function(o){this.updateType_(o)}).bind(this))};e.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Ls,Cs),e.defineBlocks$$module$build$src$core$common(De);var Ns={blocks:De},xe=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Ms={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};e.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Ms));var ks={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};e.register$$module$build$src$core$extensions("controls_flow_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",ks));var Ps={customContextMenu:function(o){if(!this.isInFlyout){var i=this.getField("VAR"),c=i.getVariable().name;this.isCollapsed()||c===null||(i={type:"variables_get",fields:{VAR:i.saveState(!0)}},o.push({enabled:!0,text:e.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",c),callback:e.callbackFactory$$module$build$src$core$contextmenu(this,i)}))}}};e.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Ps),e.register$$module$build$src$core$extensions("controls_for_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.register$$module$build$src$core$extensions("controls_forEach_tooltip",e.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var $t=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),Bs="CONTROL_FLOW_NOT_IN_LOOP",Ds={getSurroundLoop:function(){let o=this;do{if($t.has(o.type))return o;o=o.getSurroundParent()}while(o);return null},onchange:function(o){const i=this.workspace;if(i.isDragging&&!i.isDragging()&&(o.type===e.MOVE$$module$build$src$core$events$utils||o.type===e.CREATE$$module$build$src$core$events$utils)&&(o=!!this.getSurroundLoop(),this.setWarningText(o?null:e.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{e.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!o,Bs)}finally{e.setRecordUndo$$module$build$src$core$events$utils(!0)}}};e.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Ds),e.defineBlocks$$module$build$src$core$common(xe);var xs={blocks:xe,loopTypes:$t},Fe=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Fs={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};e.register$$module$build$src$core$extensions("logic_op_tooltip",e.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Fs));var vs={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const o=e.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&o.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&o.setAttribute("else","1"),o},domToMutation:function(o){this.elseifCount_=parseInt(o.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(o.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const o=Object.create(null);return this.elseifCount_&&(o.elseIfCount=this.elseifCount_),this.elseCount_&&(o.hasElse=!0),o},loadExtraState:function(o){this.elseifCount_=o.elseIfCount||0,this.elseCount_=o.hasElse?1:0,this.updateShape_()},decompose:function(o){const i=o.newBlock("controls_if_if");i.initSvg();let c=i.nextConnection;for(let u=1;u<=this.elseifCount_;u++){const h=o.newBlock("controls_if_elseif");h.initSvg(),c.connect(h.previousConnection),c=h.nextConnection}return this.elseCount_&&(o=o.newBlock("controls_if_else"),o.initSvg(),c.connect(o.previousConnection)),i},compose:function(o){o=o.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const i=[null],c=[null];let u=null;for(;o;){if(!o.isInsertionMarker())switch(o.type){case"controls_if_elseif":this.elseifCount_++,i.push(o.valueConnection_),c.push(o.statementConnection_);break;case"controls_if_else":this.elseCount_++,u=o.statementConnection_;break;default:throw TypeError("Unknown block type: "+o.type)}o=o.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(i,c,u)},saveConnections:function(o){o=o.nextConnection.targetBlock();let i=1;for(;o;){if(!o.isInsertionMarker())switch(o.type){case"controls_if_elseif":var c=this.getInput("IF"+i);const u=this.getInput("DO"+i);o.valueConnection_=c&&c.connection.targetConnection,o.statementConnection_=u&&u.connection.targetConnection,i++;break;case"controls_if_else":c=this.getInput("ELSE"),o.statementConnection_=c&&c.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+o.type)}o=o.getNextBlock()}},rebuildShape_:function(){const o=[null],i=[null];let c=null;this.getInput("ELSE")&&(c=this.getInput("ELSE").connection.targetConnection);for(let u=1;this.getInput("IF"+u);u++){const h=this.getInput("IF"+u),L=this.getInput("DO"+u);o.push(h.connection.targetConnection),i.push(L.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(o,i,c)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var o=1;this.getInput("IF"+o);o++)this.removeInput("IF"+o),this.removeInput("DO"+o);for(o=1;o<=this.elseifCount_;o++)this.appendValueInput("IF"+o).setCheck("Boolean").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+o).appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(o,i,c){for(let u=1;u<=this.elseifCount_;u++){let h;(h=o[u])==null||h.reconnect(this,"IF"+u);let L;(L=i[u])==null||L.reconnect(this,"DO"+u)}c==null||c.reconnect(this,"ELSE")}};e.registerMutator$$module$build$src$core$extensions("controls_if_mutator",vs,null,["controls_if_elseif","controls_if_else"]);var Us=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return e.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};e.register$$module$build$src$core$extensions("controls_if_tooltip",Us);var ws={onchange:function(o){this.prevBlocks_||(this.prevBlocks_=[null,null]);var i=this.getInputTargetBlock("A");const c=this.getInputTargetBlock("B");i&&c&&!this.workspace.connectionChecker.doTypeChecks(i.outputConnection,c.outputConnection)&&(e.setGroup$$module$build$src$core$events$utils(o.group),o=this.prevBlocks_[0],o!==i&&(i.unplug(),!o||o.isDisposed()||o.isShadow()||this.getInput("A").connection.connect(o.outputConnection)),i=this.prevBlocks_[1],i!==c&&(c.unplug(),!i||i.isDisposed()||i.isShadow()||this.getInput("B").connection.connect(i.outputConnection)),this.bumpNeighbours(),e.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Hs=function(){this.mixin(ws)};e.register$$module$build$src$core$extensions("logic_compare",Hs);var Vs={prevParentConnection_:null,onchange:function(o){const i=this.getInputTargetBlock("THEN"),c=this.getInputTargetBlock("ELSE"),u=this.outputConnection.targetConnection;if((i||c)&&u)for(let h=0;2>h;h++){const L=h===1?i:c;L&&!L.workspace.connectionChecker.doTypeChecks(L.outputConnection,u)&&(e.setGroup$$module$build$src$core$events$utils(o.group),u===this.prevParentConnection_?(this.unplug(),u.getSourceBlock().bumpNeighbours()):(L.unplug(),L.bumpNeighbours()),e.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=u}};e.registerMixin$$module$build$src$core$extensions("logic_ternary",Vs),e.defineBlocks$$module$build$src$core$common(Fe);var Gs={blocks:Fe},V=e.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Ys={init:function(){this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("items",String(this.itemCount_)),o},domToMutation:function(o){if(o=o.getAttribute("items"),!o)throw new TypeError("element did not have items");this.itemCount_=parseInt(o,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(o){this.itemCount_=o.itemCount,this.updateShape_()},decompose:function(o){const i=o.newBlock("lists_create_with_container");i.initSvg();let c=i.getInput("STACK").connection;for(let u=0;u<this.itemCount_;u++){const h=o.newBlock("lists_create_with_item");if(h.initSvg(),!h.previousConnection)throw Error("itemBlock has no previousConnection");c.connect(h.previousConnection),c=h.nextConnection}return i},compose:function(o){var i=o.getInputTargetBlock("STACK");for(o=[];i;)i.isInsertionMarker()||o.push(i.valueConnection_),i=i.getNextBlock();for(i=0;i<this.itemCount_;i++){const c=this.getInput("ADD"+i).connection.targetConnection;c&&!o.includes(c)&&c.disconnect()}for(this.itemCount_=o.length,this.updateShape_(),i=0;i<this.itemCount_;i++){let c;(c=o[i])==null||c.reconnect(this,"ADD"+i)}},saveConnections:function(o){o=o.getInputTargetBlock("STACK");let i=0;for(;o;){if(o.isInsertionMarker()){o=o.getNextBlock();continue}const c=this.getInput("ADD"+i);let u;o.valueConnection_=(u=c)==null?void 0:u.connection.targetConnection,o=o.getNextBlock(),i++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var o=0;o<this.itemCount_;o++)if(!this.getInput("ADD"+o)){const i=this.appendValueInput("ADD"+o).setAlign(e.Align$$module$build$src$core$inputs$align.RIGHT);o===0&&i.appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(o=this.itemCount_;this.getInput("ADD"+o);o++)this.removeInput("ADD"+o)}};V.lists_create_with=Ys;var Ks={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};V.lists_create_with_container=Ks;var Xs={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};V.lists_create_with_item=Xs;var Ws={init:function(){var o=[[e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),!o)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(o,"END"),this.setInputsInline(!0),this.setTooltip(()=>e.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};V.lists_indexOf=Ws;var js={init:function(){var o=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),o.setValidator(function(i){i=i==="REMOVE",this.getSourceBlock().updateStatement_(i)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(o,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const i=this.getFieldValue("MODE"),c=this.getFieldValue("WHERE");let u="";switch(i+" "+c){case"GET FROM_START":case"GET FROM_END":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":u=e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(c==="FROM_START"||c==="FROM_END")&&(u+="  "+(c==="FROM_START"?e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),u})},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");o.setAttribute("statement",String(!this.outputConnection));const i=this.getInput("AT")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return o.setAttribute("at",String(i)),o},domToMutation:function(o){const i=o.getAttribute("statement")==="true";this.updateStatement_(i),o=o.getAttribute("at")!=="false",this.updateAt_(o)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(o){o.isStatement?this.updateStatement_(!0):typeof o=="string"&&this.domToMutation(e.textToDom$$module$build$src$core$utils$xml(o))},updateStatement_:function(o){o!==!this.outputConnection&&(this.unplug(!0,!0),o?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(o){this.removeInput("AT"),this.removeInput("ORDINAL",!0),o?(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const i=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});i.setValidator(function(c){const u=c==="FROM_START"||c==="FROM_END";if(u!==o){const h=this.getSourceBlock();return h.updateAt_(u),h.setFieldValue(c,"WHERE"),null}}),this.getInput("AT").appendField(i,"WHERE"),e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};V.lists_getIndex=js;var qs={init:function(){var o=[[e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:o}),this.appendDummyInput().appendField(o,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const i=this.getFieldValue("MODE"),c=this.getFieldValue("WHERE");let u="";switch(i+" "+c){case"SET FROM_START":case"SET FROM_END":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":u=e.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(c==="FROM_START"||c==="FROM_END")&&(u+="  "+e.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),u})},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation"),i=this.getInput("AT")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return o.setAttribute("at",String(i)),o},domToMutation:function(o){o=o.getAttribute("at")!=="false",this.updateAt_(o)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(o){this.removeInput("AT"),this.removeInput("ORDINAL",!0),o?(this.appendValueInput("AT").setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const i=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});i.setValidator(function(c){const u=c==="FROM_START"||c==="FROM_END";if(u!==o){const h=this.getSourceBlock();return h.updateAt_(u),h.setFieldValue(c,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(i,"WHERE")}};V.lists_setIndex=qs;var Js={init:function(){this.WHERE_OPTIONS_1=[[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");var i=this.getInput("AT1")instanceof e.ValueInput$$module$build$src$core$inputs$value_input;return o.setAttribute("at1",String(i)),i=this.getInput("AT2")instanceof e.ValueInput$$module$build$src$core$inputs$value_input,o.setAttribute("at2",String(i)),o},domToMutation:function(o){const i=o.getAttribute("at1")==="true";o=o.getAttribute("at2")==="true",this.updateAt_(1,i),this.updateAt_(2,o)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(o,i){this.removeInput("AT"+o),this.removeInput("ORDINAL"+o,!0),i?(this.appendValueInput("AT"+o).setCheck("Number"),e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+o).appendField(e.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+o);const c=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+o]});c.setValidator(function(u){const h=u==="FROM_START"||u==="FROM_END";if(h!==i){const L=this.getSourceBlock();return L.updateAt_(o,h),L.setFieldValue(u,"WHERE"+o),null}}),this.getInput("AT"+o).appendField(c,"WHERE"+o),o===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};V.lists_getSublist=Js,V.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},V.lists_split={init:function(){const o=e.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[e.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!o)throw Error("field_dropdown not found");o.setValidator(i=>{this.updateType_(i)}),this.setHelpUrl(e.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const i=this.getFieldValue("MODE");if(i==="SPLIT")return e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(i==="JOIN")return e.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+i)})},updateType_:function(o){if(this.getFieldValue("MODE")!==o){const i=this.getInput("INPUT").connection;i.setShadowDom(null);const c=i.targetBlock();c&&(i.disconnect(),c.isShadow()?c.dispose(!1):this.bumpNeighbours())}o==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const o=e.createElement$$module$build$src$core$utils$xml("mutation");return o.setAttribute("mode",this.getFieldValue("MODE")),o},domToMutation:function(o){this.updateType_(o.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},e.defineBlocks$$module$build$src$core$common(V);var zs={blocks:V},Qs=Object.assign({},V,Fe,xe,De,K,E,$,r),_t={blocks:Qs,lists:zs,logic:Gs,loops:xs,math:Ns,procedures:Os,texts:fe,variables:A,variablesDynamic:m};return _t.__namespace__=e,_t})})(Ts);var Ma=Ts.exports;const Er={...ps.Zelos.blockStyles,defaultBlock1:{colourPrimary:"#B2DAFF",colourSecondary:"#F4F8FA",colourTertiary:"#2677C3"},defaultBlock2:{colourPrimary:"#67B6FF",colourSecondary:"F4F8FA",colourTertiary:"#2677C3"},defaultBlock3:{colourPrimary:"#4195E4",colourSecondary:"#F4F8FA",colourTertiary:"#2677C3"},defaultBlockCss:{colourPrimary:"#FFF3AD",colourSecondary:"#41505B",colourTertiary:"#FFE241"}},ka=rr.defineTheme("custom",{name:"custom",base:ps.Classic,componentStyles:{workspaceBackgroundColour:"#fafafa",toolboxBackgroundColour:"blackBackground",flyoutBackgroundColour:"white",flyoutOpacity:1,scrollbarColour:"#000000",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.001,cursorColour:"#d0d0d0"},categoryStyles:cr,blockStyles:Er});class ct extends ir{position(){if(!this.isVisible()||!this.targetWorkspace.isVisible())return;const s=this.targetWorkspace.getToolbox(),n=7,e=0;if(!s)throw new Error("no toolbox");const r=s.getContentAreaMetrics();this.width_=r.width,this.height_=r.height,this.positionAt_(r.width-7,r.height-s.getContentHeight(),n,e)}hide(){}positionNewBlock(s,n){const e=this.targetWorkspace,r=this.svgGroup_;if(!r)throw new Error("flyout의 element를 찾을 수 없습니다.");const l=e.getOriginOffsetInPixels(),a=r.getBoundingClientRect(),d=e.getParentSvg().getBoundingClientRect(),m=this.workspace_.getCanvas().getAttribute("transform");if(!m)throw new Error("blocklyBlockCanvas에서 transform 값을 찾을 수 없습니다.");const $=new Te.Coordinate(a.x-d.x,a.y-d.y),p=this.getTranslate_(m);$.x=a.x-d.x,$.y=a.y-d.y+p.y;const T=s.getRelativeToSurfaceXY();T.scale(this.workspace_.scale);const S=Te.Coordinate.sum($,T),A=Te.Coordinate.difference(S,l);A.scale(1/e.scale),n.moveTo(new Te.Coordinate(A.x,A.y))}getTranslate_(s){const n=s==null?void 0:s.match(/translate\(\s*[\d.-]+,\s*([\d.-]+)\)/);if(!n)throw new Error("일치하는 translate 값이 없습니다.");return{x:parseFloat(n[0]),y:parseFloat(n[1])}}}G(ct,"registryName","FixedFlyout");const gr=t=>/^[a-zA-Z_-]/.test(t),fr=t=>/^.[a-zA-Z0-9_-]*$/.test(t);class br extends sr{constructor(s,n,e){super(String(s??""),n,e)}initView(){super.initView(),this.textElement_&&(this.textElement_.style.fill="#1E272E")}}class X{static createElement(s,n,e){const r=document.createElement(s);for(const l in n)r.setAttribute(l,`${n[l]}`);return e&&e.appendChild(r),r}static createSvgElement(s,n,e){const r=document.createElementNS(this.SVG_NS,`${s}`);for(const l in n)r.setAttribute(l,`${n[l]}`);return e&&e.appendChild(r),r}static insertAfter(s,n){const e=n.nextElementSibling,r=n.parentNode;if(!r)throw Error("Reference node has no parent.");e?r.insertBefore(s,e):r.appendChild(s)}}G(X,"SVG_NS","http://www.w3.org/2000/svg");const Ir=t=>C.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M19.7827 5.41406L18.2135 20.5834C18.0841 21.8339 17.1427 22.777 16.0239 22.777H7.37603C6.25719 22.777 5.31579 21.8339 5.18643 20.5834L3.61719 5.41406",stroke:"currentColor",strokeWidth:1.2}),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.41992 5.71342H21.5791H2.41992Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),C.createElement("path",{d:"M9.00691 5.41406V4.01704C9.00691 2.47394 10.3472 1.223 12.0005 1.223C13.6539 1.223 14.9941 2.47394 14.9941 4.01704L14.9941 5.41406",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round"})),Sr=({workspaceId:t,title:s,thumbnail:n,lastEdited:e,onClick:r})=>{const{openModal:l,closeModal:a,setModalContent:d,setHandleModalCloseButton:m,setHandleModalConfirmButton:$}=Ft(),{mutate:p}=Nr(),T=()=>{d(`${s}을(를)
      삭제하겠습니까?`),m(()=>{a()}),$(()=>{p(t)}),l()};return R.jsxs("li",{className:"shadow-drop relative rounded-lg",children:[R.jsx("button",{className:"absolute right-2 top-2 text-gray-300 hover:text-red-500",onClick:T,children:R.jsx(Ir,{width:16})}),R.jsxs("div",{className:"cursor-pointer",onClick:r,children:[R.jsx("div",{className:"flex h-[180px] overflow-hidden bg-gray-50",children:n&&R.jsx("img",{src:n,alt:"workspace thumbnail",className:"h-32 w-full object-cover"})}),R.jsxs("aside",{className:"p-4 pb-6",children:[R.jsx("h4",{className:"text-bold-md mb-1.5 text-gray-500",children:s}),R.jsx("p",{className:"text-medium-sm text-gray-200",children:tr(e)})]})]})]})};Sr.__docgenInfo={description:`@description
워크스페이스 아이템 컴포넌트`,methods:[],displayName:"WorkspaceItem",props:{workspaceId:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},thumbnail:{required:!0,tsType:{name:"string"},description:""},lastEdited:{required:!0,tsType:{name:"string"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Or=()=>{const{mutate:t}=ms(),{isPending:s}=xt(),n=()=>{t()};return R.jsx(ao,{width:"w-5",height:"h-5",onClick:n,disable:s,children:R.jsx($o,{width:"12",height:"12"})})};Or.__docgenInfo={description:`@description
워크스페이스 추가 버튼 컴포넌트`,methods:[],displayName:"WorkspaceAddBtn"};const Rr=()=>{const t=Ht().workspaceId,{mutate:s,isPending:n}=Mr(t),{totalCssPropertyObj:e}=de(),{workspace:r}=so(),{isResetCssChecked:l}=Xe(),a=()=>{const d=ar.workspaces.save(r);s({totalCssPropertyObj:e,canvas:d,classBlockList:W.contents,cssResetStatus:l})};return R.jsx("button",{onClick:a,className:"text-bold-rg w-16 rounded-[30px] bg-green-500 py-2 text-green-100 hover:border hover:border-green-500 hover:bg-green-100 hover:text-green-500",disabled:n,children:n?R.jsx(wt,{width:4,height:4,backgroundColor:"gray200",foregroundColor:"grayWhite"}):R.jsx("p",{children:"저장"})})};Rr.__docgenInfo={description:`@description
Workspace 상태를 저장하는 버튼입니다.
저장 항목 : css 속성, 캔버스 블록 상태, css class 블록, css 리셋 여부`,methods:[],displayName:"SaveButton"};const Ar=()=>{const{workspaceId:t}=Ht(),{mutate:s,isPending:n}=Cr(),r=$e().getQueryData(se.detail(t)),l=(r==null?void 0:r.workspaceDto.name)||"워크스페이스 이름",a=$=>{$.target.value===l||$.target.value===""||s({workspaceId:t,newName:$.target.value})},d=$=>{$.key==="Enter"&&m($)},m=$=>{$.currentTarget.blur(),!(l===$.currentTarget.value||$.currentTarget.value==="")&&(s({workspaceId:t,newName:$.currentTarget.value}),$.preventDefault())};return R.jsx(R.Fragment,{children:R.jsxs("div",{className:"relative flex items-center",children:[R.jsx("input",{placeholder:l===""?"워크스페이스 이름":l,className:"placeholder:text-semibold-rg w-[272px] rounded-md border border-green-500 px-3 py-1 placeholder:text-gray-100 focus:outline-none",onBlur:a,onKeyDown:d,maxLength:20,disabled:n}),n&&R.jsx("div",{className:"absolute right-5",children:R.jsx(wt,{width:4,height:4,foregroundColor:"green500",backgroundColor:"gray200"})})]})})};Ar.__docgenInfo={description:`@description
워크스페이스 이름을 수정할 수 있는 컴포넌트입니다.`,methods:[],displayName:"WorkspaceNameInput"};const yr=({cssItem:t,index:s})=>{const{totalCssPropertyObj:n,currentCssClassName:e}=de(),{handleCssPropertyCheckboxChange:r,handleCssOptionChange:l,handleColorChange:a}=Es(),{cssOptionValue:d,isHover:m,indexOfHover:$,isChecked:p,cssOption:T,handleMouseEnter:S,handleEnterKey:A,handleMouseLeave:E,handleChangeInputValue:f}=Br(t),{leftX:g,topY:y}=Pr();return R.jsxs("div",{className:`flex h-[66px] w-full flex-shrink-0 items-center justify-between rounded-lg px-4 ${n[e]&&n[e].checkedCssPropertyObj[t.label]?"bg-yellow-500":"bg-gray-50"} `,children:[R.jsxs("div",{className:"flex items-center gap-5",children:[R.jsx("input",{type:"checkbox",checked:p,onChange:()=>r(t.label,p,T),title:t.label,className:"h-5 w-5 appearance-none rounded border border-gray-100 bg-center bg-no-repeat checked:bg-white checked:bg-[url('@/shared/assets/check.svg')]",disabled:e.length===0}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("p",{className:"text-semibold-md text-gray-black max-w-36 border-gray-100",children:t.label}),R.jsx(po,{onMouseEnter:O=>S(O,s),onMouseLeave:E}),R.jsx(Vt,{description:t.description,isOpen:m&&$===s,leftX:g,topY:y})]})]}),t.type==="select"&&R.jsx(co,{id:t.label,options:t.option,value:T,onChange:O=>l(t.label,O),disabled:e.length===0,size:uo.SMALL}),t.type==="input"&&R.jsx("input",{type:"text",className:"text-medium-md placeholder:text-medium-md w-36 rounded-lg border border-gray-100 px-4 py-1.5 text-gray-500 placeholder-gray-100 focus:border-gray-200 focus:outline-none disabled:border disabled:border-gray-100 disabled:bg-gray-50",placeholder:"값을 입력하세요",onBlur:O=>l(t.label,O.target.value),onKeyDown:O=>A(t.label,O),value:d,onChange:f,disabled:e.length===0}),t.type==="color"&&R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("p",{className:"text-medium-md text-gray-500",children:T}),R.jsx("input",{type:"color",title:T,onChange:O=>a(t.label,O.target.value),value:T,className:"h-5 w-5 cursor-pointer appearance-none bg-transparent",disabled:e.length===0})]})]})};yr.__docgenInfo={description:`@description
CSS 속성을 선택할 수 있는 컴포넌트`,methods:[],displayName:"CssOptionItem",props:{cssItem:{required:!0,tsType:{name:"signature",type:"object",raw:`{
  label: string;
  type: 'select' | 'input' | 'color';
  option?: string[];
  description: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"type",value:{name:"union",raw:"'select' | 'input' | 'color'",elements:[{name:"literal",value:"'select'"},{name:"literal",value:"'input'"},{name:"literal",value:"'color'"}],required:!0}},{key:"option",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!1}},{key:"description",value:{name:"string",required:!0}}]}},description:""},index:{required:!0,tsType:{name:"number"},description:""}}};let Ke=null;const Bt=(t,s)=>{Ke||(Ke=mo(s)),Ke.render(Vt(t))},Lr="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_921_1400'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='16'%20height='16'%3e%3crect%20width='16'%20height='16'%20fill='%23D9D9D9'%20/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_921_1400)'%3e%3cpath%20d='M7.99826%2012.0006C8.22171%2012.0006%208.41121%2011.9234%208.56676%2011.7691C8.72232%2011.6149%208.8001%2011.426%208.8001%2011.2024C8.8001%2010.979%208.72293%2010.7895%208.5686%2010.6339C8.41438%2010.4784%208.22549%2010.4006%208.00193%2010.4006C7.77849%2010.4006%207.58899%2010.4778%207.43343%2010.6321C7.27788%2010.7863%207.2001%2010.9752%207.2001%2011.1988C7.2001%2011.4222%207.27726%2011.6117%207.4316%2011.7673C7.58582%2011.9228%207.77471%2012.0006%207.99826%2012.0006ZM8.00476%2014.4006C7.12388%2014.4006%206.29454%2014.2339%205.51676%2013.9006C4.73899%2013.5673%204.05843%2013.1089%203.4751%2012.5256C2.89176%2011.9423%202.43343%2011.2619%202.1001%2010.4846C1.76676%209.70725%201.6001%208.8767%201.6001%207.99292C1.6001%207.10914%201.76676%206.28114%202.1001%205.50892C2.43343%204.7367%202.89176%204.05892%203.4751%203.47559C4.05843%202.89225%204.73876%202.43392%205.5161%202.10059C6.29343%201.76725%207.12399%201.60059%208.00776%201.60059C8.89154%201.60059%209.71954%201.76725%2010.4918%202.10059C11.264%202.43392%2011.9418%202.89225%2012.5251%203.47559C13.1084%204.05892%2013.5668%204.73792%2013.9001%205.51259C14.2334%206.28736%2014.4001%207.11514%2014.4001%207.99592C14.4001%208.87681%2014.2334%209.70614%2013.9001%2010.4839C13.5668%2011.2617%2013.1084%2011.9423%2012.5251%2012.5256C11.9418%2013.1089%2011.2628%2013.5673%2010.4881%2013.9006C9.71332%2014.2339%208.88554%2014.4006%208.00476%2014.4006ZM8.0536%205.16725C8.32393%205.16725%208.56593%205.25159%208.7796%205.42025C8.99327%205.58892%209.1001%205.79975%209.1001%206.05275C9.1001%206.28464%209.0296%206.49503%208.8886%206.68392C8.74749%206.87281%208.58465%207.04503%208.4001%207.20059C8.14454%207.42281%207.91121%207.66725%207.7001%207.93392C7.48899%208.20059%207.38343%208.50059%207.38343%208.83392C7.38343%209.00059%207.44276%209.13947%207.56143%209.25059C7.6801%209.3617%207.81854%209.41725%207.97676%209.41725C8.15532%209.41725%208.3066%209.35892%208.4306%209.24225C8.55471%209.12559%208.63343%208.97836%208.66676%208.80059C8.71121%208.56725%208.81121%208.36092%208.96676%208.18159C9.12232%208.00236%209.28899%207.83125%209.46676%207.66825C9.72232%207.43425%209.93899%207.16897%2010.1168%206.87242C10.2945%206.57586%2010.3834%206.25747%2010.3834%205.91725C10.3834%205.35059%2010.1529%204.8867%209.69176%204.52559C9.23065%204.16447%208.69404%203.98392%208.08193%203.98392C7.65904%203.98392%207.25915%204.07836%206.88226%204.26725C6.50526%204.45614%206.19365%204.72986%205.94743%205.08842C5.86032%205.20853%205.83621%205.34059%205.8751%205.48459C5.91399%205.62859%205.99454%205.75059%206.11676%205.85059C6.27232%205.97281%206.43899%206.00892%206.61676%205.95892C6.79454%205.90892%206.94454%205.80614%207.06676%205.65059C7.18899%205.49503%207.33538%205.37559%207.50593%205.29225C7.67649%205.20892%207.85904%205.16725%208.0536%205.16725Z'%20fill='%2390A2B6'%20/%3e%3c/g%3e%3c/svg%3e";class hs extends ct{constructor(){super(...arguments);G(this,"pElement",null);G(this,"inputElement",null);G(this,"buttonElement",null)}init(n){super.init(n);const e=this.targetWorkspace.getToolbox(),r=X.createElement("div",{class:"contentCreatingBlock"}),l=X.createElement("label",{for:"creatingBlockInput",class:"creatingBlockLabel"});l.textContent="클래스 생성하기",this.inputElement=X.createElement("input",{type:"text",placeholder:"클래스명을 정해주세요",class:"creatingBlockInput",id:"creatingBlockInput",maxlength:"30"}),this.inputElement.addEventListener("keydown",f=>{f.key==="Enter"&&this.createStyleBlock()});const a=X.createElement("button",{class:"creatingBlockButton"});a.textContent="+",a.addEventListener("click",()=>this.createStyleBlock());const d=X.createElement("label",{class:"listBlockLabel"});d.textContent="클래스 블록 목록";const m=X.createElement("div",{class:"resetCssDiv"}),$=X.createElement("input",{type:"checkbox",class:"resetCssCheckbox"});$.checked=Xe.getState().isResetCssChecked,$.addEventListener("change",()=>{Xe.getState().toggleResetCss()});const p=X.createElement("span",{class:"resetCssText"});p.textContent="reset CSS 적용하기";const T=X.createElement("img",{src:Lr,alt:"reset CSS Info",class:"questionImage"}),S=document.createElement("div");document.body.appendChild(S);const A=()=>{const{left:f,top:g}=T.getBoundingClientRect();Bt({description:"브라우저마다 다른 기본 스타일을 일관되게 만들기 위해, 모든 요소의 기본 스타일을 초기화하는 CSS입니다.",isOpen:!0,leftX:f,topY:g},S)},E=()=>{Bt({description:"",isOpen:!1,leftX:0,topY:0},S)};T.addEventListener("mouseenter",A),T.addEventListener("mouseleave",E),m.appendChild($),m.appendChild(p),m.appendChild(T),[l,this.inputElement,a,m,d].forEach(f=>r.appendChild(f)),e.addElementToContentArea(r,!0),this.registerCustomContextMenu(),this.show(W.contents)}registerCustomContextMenu(){const n="deleteBlock";if(Ye.registry.getItem(n))return;const e={id:n,scopeType:Ye.ScopeType.BLOCK,displayText:"블록 삭제",weight:100,preconditionFn:r=>{const l=r.block.type;return W.contents.some(d=>d.type===l)&&r.block.isDeletable()?"enabled":"hidden"},callback:(r,l)=>{const a=r.block,d=a.type;a.dispose(!1,!0),de.getState().removeCssClass(d),st.getState().setIsBlockChanged(!0),W.contents=W.contents.filter(p=>p.type!==d);const{removeClassBlock:m}=mt.getState();m(d),lr().getToolbox().getFlyout().show(W.contents),U.success(`"${d}" 클래스 블록이 삭제되었습니다.`)}};Ye.registry.register(e),document.addEventListener("click",r=>{const l=document.querySelector(".blocklyContextMenu");l&&!l.contains(r.target)&&(l.style.display="none")})}createStyleBlock(){var a;const n=(a=this.inputElement)==null?void 0:a.value;if(!n)return U.error("클래스명을 입력해주세요.");if(gr(n)){if(!fr(n))return U.error("클래스명은 영문자, 밑줄(_), 하이픈(-), 숫자만 포함해주세요")}else return U.error("클래스명 첫 글자는 영문자, 밑줄(_), 하이픈(-)만 가능해요");const e=W.contents||[];if(e.some(d=>d.type===n))return U.error(`"${n}" 입력한 클래스명 블록은 이미 존재합니다.`);Pt[n]||(de.getState().addNewCssClass(n),Pt[n]={init:function(){this.appendDummyInput().appendField(new br(n),"CLASS"),this.setOutput(!0),this.setStyle("defaultBlockCss")}}),W.contents=[...e,{kind:"block",type:n,enabled:!0}];const{addClassBlock:l}=mt.getState();l(n),this.show(W.contents),U.success(`입력한 클래스명 블록 "${n}"이(가) 추가되었습니다.`),this.inputElement&&(this.inputElement.value="")}}G(hs,"registryName","StyleFlyout");const Pa={tabs:{html:{label:"HTML 태그",toolboxConfig:hr,flyoutRegistryName:ct.registryName},css:{label:"CSS 클래스",toolboxConfig:W,flyoutRegistryName:hs.registryName}},defaultSelectedTab:"html"},Cr=()=>{const t=$e(),s=ke(),n=Be(),{mutate:e,isPending:r}=Pe({mutationFn:({workspaceId:l,newName:a})=>s.updateWorkspaceName(n,l,a),onSuccess:l=>{U.success("워크스페이스 이름이 변경되었습니다."),t.invalidateQueries({queryKey:se.detail(l.workspaceId)}),t.invalidateQueries({queryKey:se.list()})},onError:()=>{U.error("워크스페이스 이름 변경을 실패했습니다.")}});return{mutate:e,isPending:r}},Nr=()=>{const t=$e(),s=ke(),n=Be(),{closeModal:e,setIsLoading:r}=Ft(),{mutate:l}=Pe({mutationFn:a=>(r(!0),s.deleteWorkspace(n,a)),onSuccess:()=>{t.invalidateQueries({queryKey:se.list()}),U.success("워크스페이스 삭제 성공")},onError:()=>{U.error("워크스페이스 삭제 실패")},onSettled:()=>{r(!1),e()}});return{mutate:l}},se={all:["workspace"],list:()=>[...se.all,"list"],detail:t=>[...se.all,"detail",t]},Mr=t=>{const s=ke(),n=Be(),{resetChangedStatusState:e}=st(),r=$e(),{mutate:l,isPending:a}=Pe({mutationFn:({totalCssPropertyObj:d,canvas:m,classBlockList:$,cssResetStatus:p})=>Promise.all([s.saveWorkspaceCssProperty(n,t,d),s.saveWorkspaceCanvas(n,t,m),s.saveWorkspaceClassBlockList(n,t,$),s.saveWorkspaceCssResetStatus(n,t,p)]),onSuccess:()=>{e(),r.invalidateQueries({queryKey:se.detail(t)}),U.success("성공적으로 저장되었습니다.")},onError:()=>{U.error("저장에 실패했습니다.")}});return{mutate:l,isPending:a}},kr=()=>{const[t,s]=C.useState(window.innerWidth),[n,e]=C.useState(window.innerHeight);return C.useEffect(()=>{const r=_s(()=>{s(window.innerWidth),e(window.innerHeight)},200);return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),{screenWidth:t,setScreenWidth:s,screenHeight:n,setScreenHeight:e}},Pr=()=>{const{leftX:t,topY:s,offsetX:n,offsetY:e,setLeftX:r,setTopY:l}=vt(),{screenWidth:a,screenHeight:d}=kr();return C.useEffect(()=>{r(n),e+40>d?l(-e+40):l(e)},[n,e,a,d]),{leftX:t,topY:s}},Es=()=>{const{setCheckedCssPropertyObj:t,setCssOptionObj:s,currentCssClassName:n}=de(),{setIsCssChanged:e}=st(),r=(d,m,$)=>{e(!0),t(n,d,!m),m||s(n,d,$)},l=(d,m)=>{e(!0),s(n,d,m)},a=C.useCallback(_s((d,m)=>{l(d,m)},200),[l]);return{handleCssPropertyCheckboxChange:r,handleCssOptionChange:l,handleColorChange:a}},Br=t=>{const{handleCssOptionChange:s}=Es(),{setOffsetX:n,setOffsetY:e}=vt(),{currentCssClassName:r,totalCssPropertyObj:l,selectedCssCategory:a}=de(),[d,m]=C.useState(""),[$,p]=C.useState(!1),[T,S]=C.useState(-1),[A,E]=C.useState(!1),[f,g]=C.useState("");return C.useEffect(()=>{l[r]&&m(l[r].cssOptionObj[t.label]||"")},[r,l,t.label]),C.useEffect(()=>{if(!l[r]){E(!1),g(t.type==="select"?t.option[0]:t.type==="color"?"#000000":"");return}if(E(l[r].checkedCssPropertyObj[t.label]??!1),!l[r].cssOptionObj[t.label]){g(t.type==="select"?t.option[0]:t.type==="color"?"#000000":"");return}g(l[r].cssOptionObj[t.label])},[l,r,t,a]),{cssOptionValue:d,isHover:$,indexOfHover:T,isChecked:A,cssOption:f,handleEnterKey:(N,B)=>{B.key==="Enter"&&(s(N,B.currentTarget.value),B.currentTarget.blur(),B.preventDefault())},handleMouseEnter:(N,B)=>{p(!0),S(B),n(N.currentTarget.getBoundingClientRect().x),e(N.currentTarget.getBoundingClientRect().y)},handleMouseLeave:()=>{p(!1),S(-1)},handleChangeInputValue:N=>{m(N.target.value)}}},Dr=()=>{const{mutate:t}=ms(),s=()=>{t()};return R.jsx("div",{className:"flex h-[23rem] items-center justify-center border-4 border-dashed border-green-300 bg-green-100",onClick:s,children:R.jsx(To,{fill:"green"})})};Dr.__docgenInfo={description:`@description
빈 워크스페이스에 마우스를 올렸을 때 보여지는 컴포넌트`,methods:[],displayName:"HoveredEmptyWorkspace"};export{Hl as A,Pt as B,yr as C,X as D,oe as E,Pi as F,ca as G,Dr as H,hr as I,ka as J,Pa as K,ar as L,Mi as M,Q as N,il as O,Rr as S,Ll as T,Or as W,Gl as Z,Sr as a,Ar as b,br as c,W as d,ke as e,b as f,Be as g,Na as h,La as i,Ri as j,Il as k,ct as l,Ia as m,qn as n,Sl as o,Kl as p,Fi as q,kt as r,jn as s,oa as t,Te as u,er as v,se as w,hs as x,Al as y,Ca as z};
