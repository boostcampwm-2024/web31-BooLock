import{j as s}from"./jsx-runtime-DR9Q75dM.js";import{r as n}from"./index-DRjF_FHU.js";import{r as N}from"./index-BXCeiWJk.js";const T=i=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},n.createElement("path",{d:"M20.5 8.5L12 17L3.5 8.5",stroke:"#222222",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})),B=i=>n.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i},n.createElement("path",{d:"M3.5 15.5L12 7L20.5 15.5",stroke:"#222222",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}));var $=(i=>(i.SMALL="SMALL",i.MEDIUM="MEDIUM",i))($||{});const A=({id:i,options:f,value:m,onChange:O,placeholder:w="",size:k="MEDIUM",disabled:h=!1})=>{var j,E;const[c,u]=n.useState(!1),[g,b]=n.useState(m),[C,y]=n.useState("bottom"),[M,D]=n.useState(0),[v,x]=n.useState(!1),l=n.useRef(null),p=n.useRef(null);n.useEffect(()=>{b(m)},[m]),n.useEffect(()=>{const e=t=>{var d,L;const r=(d=l.current)==null?void 0:d.contains(t.target),a=(L=p.current)==null?void 0:L.contains(t.target);!r&&!a&&u(!1)},o=t=>{var r;c&&((r=p.current)!=null&&r.contains(t.target)||u(!1))};return document.addEventListener("mousedown",e),document.addEventListener("scroll",o,!0),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("scroll",o,!0)}},[c]),n.useEffect(()=>{if(c&&p.current){x(!1);const e=new ResizeObserver(o=>{const t=o[0].contentRect.height;if(t>0&&(D(t),l.current)){const r=l.current.getBoundingClientRect(),a=screenHeight-r.bottom,d=r.top;y(a<t&&d>t?"top":"bottom"),x(!0)}});return e.observe(p.current),()=>e.disconnect()}},[c,screenHeight]);const R=()=>{if(!h){if(c){u(!1);return}u(!0),y("bottom")}},S=e=>{b(e),O(e),u(!1)},q=e=>e.length===0?s.jsx(s.Fragment,{}):typeof e[0]=="string"?e.map(r=>s.jsx("li",{onClick:()=>S(r),className:`cursor-pointer rounded-lg px-4 py-2 hover:bg-yellow-200 ${r===g?"bg-yellow-500 text-gray-500":"text-gray-300"}`,children:r},r)):e.map(t=>s.jsx("li",{onClick:()=>S(t.value),className:`cursor-pointer rounded-lg px-4 py-2 hover:bg-yellow-200 ${t.value===g?"bg-yellow-500 text-gray-500":"text-gray-300"}`,children:t.label},t.value)),I=((e,o)=>{var r;if(o.length===0)return w;if(typeof o[0]=="string"){const a=o;return a.find(d=>d===e)||a[0]}return((r=o.find(a=>a.value===e))==null?void 0:r.label)||w})(g,f);return s.jsxs("div",{className:`${k==="MEDIUM"?"w-52":"w-36"} relative text-ellipsis whitespace-nowrap`,ref:l,id:i||void 0,children:[s.jsx("button",{type:"button",onClick:R,disabled:h,className:"text-medium-md w-full rounded-lg border border-gray-100 bg-white px-4 py-1.5 text-left focus:outline-none disabled:border disabled:border-gray-100 disabled:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:`${g?"text-gray-500":"text-gray-200"}`,children:I}),c?s.jsx(T,{width:12}):s.jsx(B,{width:12})]})}),c&&N.createPortal(s.jsx("div",{ref:p,className:"fixed z-[9999] min-w-24 rounded-lg border border-gray-100 bg-white shadow-lg transition-opacity duration-200",style:{left:l.current?`${l.current.getBoundingClientRect().left}px`:"0",top:C==="bottom"?`${(((j=l.current)==null?void 0:j.getBoundingClientRect().bottom)||0)+4}px`:`${(((E=l.current)==null?void 0:E.getBoundingClientRect().top)||0)-M-4}px`,opacity:v?1:0,visibility:v?"visible":"hidden"},children:s.jsx("ul",{className:"flex max-h-48 flex-col gap-1 overflow-y-auto px-2 py-2",children:q(f)})}),document.getElementById("dropdownDiv"))]})};A.__docgenInfo={description:"",methods:[],displayName:"Select",props:{id:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"union",raw:"TOption[] | string[]",elements:[{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  value: string;
  label: string;
}`,signature:{properties:[{key:"value",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}}],raw:"TOption[]"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:""},value:{required:!0,tsType:{name:"string"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},size:{required:!1,tsType:{name:"SelectSize"},description:"",defaultValue:{value:"SelectSize.MEDIUM",computed:!0}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{A as S,$ as a};
